webpackJsonp([0],[function(t,e,i){"use strict";(function(t){function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=i(3),o=s(r),h=i(4),c=s(h),u=function(){function e(){var i=this;n(this,e),this.posX=0,this.posY=0,this.posZ=0,this.i=0,this.time=0,this.bassTempo=0,this.kickTempo=0,this.play=!0,this.fastMotion=!1,this.meshArray=[],this.cmptMeshArray=0,this.endTrigger=!1,this.boxArray=[],this.rotationBoxArray=[],this.indexArrayReturn=0,this.mute=document.querySelector(".sound_on"),this.unMute=document.querySelector(".sound_off"),this.container=document.querySelector("#main"),document.body.appendChild(this.container),this.camera=new t.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.01,300),this.camera.position.x=5,this.camera.position.y=5,this.camera.position.z=5,this.camera2=new t.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.01,300),this.camera2.position.x=5,this.camera2.position.y=5,this.camera2.position.z=5,this.scene=new t.Scene,this.directionalLight=new t.DirectionalLight(16777215,1),this.scene.add(this.directionalLight);var s=new t.AmbientLight(3947580);this.scene.add(s),this.audio=new o.default(c.default,98,.3,function(){document.querySelector(".start").classList.remove("hidden"),document.querySelector(".start").classList.add("block"),document.querySelector(".loading_text").classList.add("hidden"),document.querySelector(".loading_text").classList.remove("block")},!1),document.querySelector(".start").addEventListener("click",function(){i.audio.play(),i.start=!0}),this.mute.addEventListener("click",function(){i.audio.volume=0,i.mute.classList.toggle("hidden"),i.unMute.classList.toggle("hidden")}),this.unMute.addEventListener("click",function(){i.audio.volume=1,i.mute.classList.toggle("hidden"),i.unMute.classList.toggle("hidden")}),this.kick=this.audio.createKick({frequency:160,decay:.5,threshold:20,onKick:function(){i.kickTempo>10&&(i.kickTempo=0,i.mesh.scale.x=15*Math.abs(Math.cos(i.audio.frequencyDataArray[160])),i.mesh.scale.y=15*Math.abs(Math.sin(i.audio.frequencyDataArray[160])),i.mesh.scale.z=2,i.stepSize=2)}}),this.kick.on(),this.kick=this.audio.createKick({frequency:3,decay:.1,threshold:240,onKick:function(){i.bassTempo>10&&(i.rotationBoxArray.push(i.mesh),i.bassTempo=0,i.mesh.scale.x=5,i.mesh.scale.y=5,i.mesh.scale.z=5,i.stepSize=5,i.mesh.rotation.x+=.8)}}),this.kick.on(),this.audio.between("Scale begin",3.5,4.2,function(){i.mesh.scale.x=4,i.mesh.scale.z=4}),this.arrayReturn=[],this.audio.between("store shape",16.3,22,function(){i.arrayReturn.push(i.mesh)}),this.audio.between("Reverse effect",22,23.8,function(){i.play=!1,i.fastMotion=!0,i.indexArrayReturn<i.arrayReturn.length&&(i.arrayReturn[i.indexArrayReturn].scale.x=.01,i.arrayReturn[i.indexArrayReturn].scale.y=.01,i.arrayReturn[i.indexArrayReturn].scale.z=.01,i.arrayReturn[i.indexArrayReturn+1]&&(i.arrayReturn[i.indexArrayReturn+1].scale.x=.01,i.arrayReturn[i.indexArrayReturn+1].scale.y=.01,i.arrayReturn[i.indexArrayReturn+1].scale.z=.01),i.arrayReturn[i.indexArrayReturn+2]&&(i.arrayReturn[i.indexArrayReturn+2].scale.x=.01,i.arrayReturn[i.indexArrayReturn+2].scale.y=.01,i.arrayReturn[i.indexArrayReturn+2].scale.z=.01),i.arrayReturn[i.indexArrayReturn+3]&&(i.arrayReturn[i.indexArrayReturn+3].scale.x=.01,i.arrayReturn[i.indexArrayReturn+3].scale.y=.01,i.arrayReturn[i.indexArrayReturn+3].scale.z=.01),i.indexArrayReturn+=4)}),this.audio.onceAt("normal play",23.81,function(){i.play=!0,i.fastMotion=!1}),this.audio.onceAt("end",42.4,function(){i.audio.pause(),i.play=!1,i.endTrigger=!0}),this.renderer=new t.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize.bind(this),!1),this.onWindowResize(),this.renderer.animate(this.render.bind(this));document.querySelector("#main canvas");this.start=!1}return a(e,[{key:"render",value:function(){if(1==this.start){if(1==this.play){this.boxGeometry=new t.BoxGeometry(.05,.05,.05),this.boxMaterial=new t.MeshNormalMaterial,this.mesh=new t.Mesh(this.boxGeometry,this.boxMaterial),this.boxArray.push(this.mesh);var e;this.stepSize=.2,this.bassTempo+=1,this.kickTempo+=1,e=Math.floor(6*Math.random()),this.mesh.position.x=this.posX,this.mesh.position.y=this.posY,this.mesh.position.z=this.posZ,0==e&&(this.posY+=this.stepSize),2==e&&(this.posY-=this.stepSize),1==e&&(this.posX+=this.stepSize),3==e&&(this.posX-=this.stepSize),4==e&&(this.posZ-=this.stepSize),5==e&&(this.posZ+=this.stepSize),this.scene.add(this.mesh),this.meshArray.push(this.mesh),this.cmptMeshArray+=1}this.i+=1,0==this.fastMotion?this.time+=.01:this.time-=.04,this.camera2.position.x=this.mesh.position.x+7*Math.cos(this.time),this.camera2.position.z=this.mesh.position.z+7*Math.sin(this.time),0==this.endTrigger?this.camera2.lookAt(this.mesh.position):(this.endTarget=Math.floor(this.cmptMeshArray/2),this.camera2.position.x=this.meshArray[this.endTarget].position.x+10*Math.cos(this.time),this.camera2.position.z=this.meshArray[this.endTarget].position.z+10*Math.sin(this.time),this.camera2.lookAt(this.meshArray[this.endTarget].position)),this.camera.rotation.x+=(this.camera2.rotation.x-this.camera.rotation.x)/60,this.camera.rotation.y+=(this.camera2.rotation.y-this.camera.rotation.y)/60,this.camera.position.x+=(this.camera2.position.x-this.camera.position.x)/60,this.camera.position.z+=(this.camera2.position.z-this.camera.position.z)/60,this.camera.rotation.z<-3?this.camera.rotation.z+=-.01:this.camera.rotation.z+=(this.camera2.rotation.z-this.camera.rotation.z)/10}this.directionalLight.position.x+=.1,this.directionalLight.position.y+=10,this.directionalLight.position.z+=20,this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(16642041,1)}},{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}]),e}();e.default=u}).call(e,i(5))},function(t,e){},function(t,e,i){"use strict";i(1);var s=i(0),n=function(t){return t&&t.__esModule?t:{default:t}}(s);window.app=new n.default,document.querySelector(".start").addEventListener("click",function(){TweenLite.to(".container-intro",.5,{opacity:0,ease:Power0.easeNone}),TweenLite.set(".container-intro",{display:"none",delay:1}),TweenLite.set(".tools",{display:"flex"}),TweenLite.to(".controls",1,{opacity:1,ease:Power0.easeNone,delay:.3}),TweenLite.to(".mask",1,{xPercent:202,ease:Power2.easeInOut,delay:.5}),TweenLite.to(".text-content",1,{opacity:1,ease:Power0.easeNone,delay:.9}),TweenLite.to(".twitter",.5,{opacity:1,ease:Power0.easeNone,delay:1.5}),TweenLite.to(".twitter",.5,{xPercent:-200,ease:Power2.easeInOut,delay:1.5}),TweenLite.to(".sound_on",.5,{xPercent:-220,ease:Power2.easeInOut,delay:1.6}),TweenLite.to("#main",1,{opacity:1,ease:Power0.easeNone,delay:.5}),TweenLite.to(".music-credits",.7,{opacity:1,ease:Power0.easeNone,delay:.5})}),document.querySelector(".full_screen").addEventListener("click",function(){var t=document.querySelector("canvas");t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}),console.log("%c Hello, any problems ? Tell me what's wrong on Twitter ","background: #94F2B3; color: #C523B6; font:bold 30px/30px sans-serif;")},function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),a=function(){function t(e,i,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];s(this,t),this.ctx;try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.ctx=new AudioContext}catch(t){throw new Error("Web Audio API is not supported in this browser")}this._bpm=i,this._beatDuration=60/this._bpm,this._offsetTime=n,this._sections=[],this._kicks=[],this._beats=[],this._startTime=0,this._pauseTime=0,this._isPlaying=!1,this._isLoaded=!1,this._progress=0,this._onUpdate=this.onUpdate.bind(this),this.gainNode=this.ctx.createGain(),this.gainNode.connect(this.ctx.destination),this.analyserNode=this.ctx.createAnalyser(),this.analyserNode.connect(this.gainNode),this.analyserNode.smoothingTimeConstant=.8,this.analyserNode.fftSize=512;var o=this.analyserNode.frequencyBinCount;this.frequencyDataArray=new Uint8Array(o),this.timeDomainDataArray=new Uint8Array(o),r&&(this.debug=new h(this)),this._load(e,a),window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame}return n(t,[{key:"_load",value:function(t,e){var i=this;if(t){this._isLoaded=!1,this._progress=0;var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onprogress=function(t){i._progress=t.loaded/t.total,i.path=document.querySelector(".path1"),i.path.style.strokeDashoffset=260-260*i._progress,i.path2=document.querySelector(".path2"),i.path2.style.strokeDashoffset=780-780*i._progress,i.path3=document.querySelector(".path3"),i.path3.style.strokeDashoffset=860-860*i._progress},s.onload=function(){i.ctx.decodeAudioData(s.response,function(t){i._buffer=t,i._isLoaded=!0,e&&e()},function(t){console.log(t)})},s.send()}}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.req&&cancelAnimationFrame(this.req),this._onUpdate(),this._isPlaying=!0;var e=this._pauseTime-this._startTime+t;this._startTime=this.ctx.currentTime-e,this.sourceNode=this.ctx.createBufferSource(),this.sourceNode.connect(this.analyserNode),this.sourceNode.buffer=this._buffer,this.sourceNode.start(0,e),this.sourceNode.addEventListener("ended",this._onEnded,!1)}},{key:"pause",value:function(){this.req&&cancelAnimationFrame(this.req),this.sourceNode&&(this.sourceNode.removeEventListener("ended",this._onEnded,!1),this.sourceNode.stop(0),this.sourceNode.disconnect(),this.sourceNode=null),this._pauseTime=this.ctx.currentTime,this._isPlaying=!1}},{key:"before",value:function(t,e,i){var s=this;return this._sections.push({label:t,condition:function(){return s.time<e},callback:i}),this}},{key:"after",value:function(t,e,i){var s=this;return this._sections.push({label:t,condition:function(){return s.time>e},callback:i}),this}},{key:"between",value:function(t,e,i,s){var n=this;return this._sections.push({label:t,condition:function(){return n.time>e&&n.time<i},callback:s}),this}},{key:"onceAt",value:function(t,e,i){var s=this,n=null;return this._sections.push({label:t,condition:function(){return s.time>e&&!this.called},callback:function(){console.log("once :",n.label),i.call(this),n.called=!0},called:!1}),n=this._sections[this._sections.length-1],this}},{key:"getSpectrum",value:function(){return this.analyserNode.getByteFrequencyData(this.frequencyDataArray),this.frequencyDataArray}},{key:"getWaveform",value:function(){return this.analyserNode.getByteTimeDomainData(this.timeDomainDataArray),this.timeDomainDataArray}},{key:"getFrequency",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=0,s=this.getSpectrum();if(void 0!==e){for(var n=t;n<=e;n++)i+=s[n];return i/(e-t+1)}return s[t]}},{key:"createKick",value:function(t){var e=t.frequency,i=t.threshold,s=t.decay,n=t.onKick,a=t.offKick,o=new r({frequency:e,threshold:i,decay:s,onKick:n,offKick:a});return this._kicks.push(o),o}},{key:"createBeat",value:function(t){var e=t.factor,i=t.onBeat,s=new o({factor:e,onBeat:i});return this._beats.push(s),s}},{key:"onUpdate",value:function(){this.req=requestAnimationFrame(this._onUpdate);for(var t in this._sections)this._sections[t].condition()&&this._sections[t].callback.call(this);var e=this.getSpectrum();for(var i in this._kicks)this._kicks[i].calc(e);var s=Math.max(0,this.time-this._offsetTime);for(var n in this._beats)this._beats[n].calc(s,this._beatDuration);this.debug&&this.debug.draw()}},{key:"progress",get:function(){return this._progress}},{key:"isLoaded",get:function(){return this._isLoaded}},{key:"duration",get:function(){return this._isLoaded?this._buffer.duration:0}},{key:"time",get:function(){return this.isPlaying?this.ctx.currentTime-this._startTime:this._pauseTime-this._startTime}},{key:"volume",set:function(t){this.gainNode.gain.value=t},get:function(){return this.gainNode.gain.value}},{key:"isPlaying",get:function(){return this._isPlaying}},{key:"beatDuration",get:function(){return this._beatDuration}}]),t}();e.default=a;var r=function(){function t(e){var i=e.frequency,n=e.threshold,a=e.decay,r=e.onKick,o=e.offKick;s(this,t),this.frequency=void 0!==i?i:[0,10],this.threshold=void 0!==n?n:.3,this.decay=void 0!==a?a:.02,this.onKick=r,this.offKick=o,this.isOn=!1,this.isKick=!1,this.currentThreshold=this.threshold}return n(t,[{key:"on",value:function(){this.isOn=!0}},{key:"off",value:function(){this.isOn=!1}},{key:"set",value:function(t){var e=t.frequency,i=t.threshold,s=t.decay,n=t.onKick,a=t.offKick;this.frequency=void 0!==e?e:this.frequency,this.threshold=void 0!==i?i:this.threshold,this.decay=void 0!==s?s:this.decay,this.onKick=n||this.onKick,this.offKick=a||this.offKick}},{key:"calc",value:function(t){if(this.isOn){var e=this.maxAmplitude(t,this.frequency);e>=this.currentThreshold&&e>=this.threshold?(this.currentThreshold=e,this.onKick&&this.onKick(e),this.isKick=!0):(this.offKick&&this.offKick(e),this.currentThreshold-=this.decay,this.isKick=!1)}}},{key:"maxAmplitude",value:function(t,e){var i=0;if(!e.length)return e<t.length?t[~~e]:null;for(var s=e[0],n=e[1];s<=n;s++)t[s]>i&&(i=t[s]);return i}}]),t}(),o=function(){function t(e){var i=e.factor,n=e.onBeat;s(this,t),this.factor=void 0!==i?i:1,this.onBeat=n,this.isOn=!1,this.currentTime=0}return n(t,[{key:"on",value:function(){this.isOn=!0}},{key:"off",value:function(){this.isOn=!1}},{key:"set",value:function(t){var e=t.factor,i=t.onBeat;this.factor=void 0!==e?e:this.factor,this.onBeat=i||this.onBeat}},{key:"calc",value:function(t,e){if(0!=t){var i=e*this.factor;t>=this.currentTime+i&&(this.isOn&&this.onBeat&&this.onBeat(),this.currentTime+=i)}}}]),t}(),h=function(){function t(e){s(this,t),this.sound=e,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=300,this.canvas.style.position="absolute",this.canvas.style.bottom=0,this.canvas.style.left=0,this.canvas.style.zIndex=3,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),window.addEventListener("resize",this.resize.bind(this),!1),this.resize()}return n(t,[{key:"resize",value:function(){this.canvas.width=window.innerWidth}},{key:"draw",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#000000",this.ctx.fill(),this.ctx.strokeStyle="#a1a1a1",this.ctx.stroke(),this.ctx.beginPath();for(var t=this.sound.getSpectrum(),e=null,i=t.length,s=this.canvas.width/i,n=this.canvas.height-10,a=0;a<i;a++)e=t[a]/256,this.ctx.rect(a*s,n-n*e,s/2,n*e);this.ctx.fillStyle="#ffffff",this.ctx.fill(),this.ctx.beginPath(),this.ctx.font="10px Arial",this.ctx.textBaseline="middle",this.ctx.textAlign="left";for(var r=0,o=i;r<o;r++)r%10==0&&(this.ctx.rect(r*s,n,s/2,10),this.ctx.fillText(r,r*s+4,n+5));this.ctx.fillStyle="#ffffff",this.ctx.fill();for(var h=this.sound._kicks,c=null,u=h.length,l=null,d=null,f=0,y=u;f<y;f++)c=h[f],c.isOn&&(l=c.frequency.length?c.frequency[0]:c.frequency,d=c.frequency.length?c.frequency[1]-c.frequency[0]+1:1,this.ctx.beginPath(),this.ctx.rect(l*s,n-n*(c.threshold/256),d*s-.5*s,2),this.ctx.rect(l*s,n-n*(c.currentThreshold/256),d*s-.5*s,5),this.ctx.fillStyle=c.isKick?"#00ff00":"#ff0000",this.ctx.fill());this.ctx.beginPath();for(var m=this.sound.getWaveform(),p=null,v=m.length,x=this.canvas.width/v,w=this.canvas.height-10,k=0;k<v;k++)p=m[k]/256,0==k?this.ctx.moveTo(k*x,w*p):this.ctx.lineTo(k*x,w*p);this.ctx.strokeStyle="#0000ff",this.ctx.stroke(),this.ctx.beginPath(),this.ctx.textAlign="right",this.ctx.textBaseline="top",this.ctx.font="15px Arial",this.ctx.fillStyle="#ffffff",this.ctx.fillText(Math.round(10*this.sound.time)/10+" / "+Math.round(10*this.sound.duration)/10,this.canvas.width-5,5),this.ctx.beginPath();for(var g=this.sound._sections,b=null,_=g.length,A="",T=0,q=_;T<q;T++)b=g[T],b.condition()&&(A+=b.label+" - ");A.length>0&&(A=A.substr(0,A.length-3)),this.ctx.fillText(A,this.canvas.width-5,25),this.ctx.fill()}}]),t}()},function(t,e,i){t.exports=i.p+"sounds/tell_me_compressed.224de17c96de57383d126b2e942a2504.mp3"}],[2]);