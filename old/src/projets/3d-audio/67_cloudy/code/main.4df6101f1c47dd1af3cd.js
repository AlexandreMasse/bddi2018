webpackJsonp([0],[,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){i(this,e),this.nomes=t.reverse()}return o(e,[{key:"calculate",value:function(e){for(var t=0,n=this.nomes.length-1;n>=0;n--)t+=this.nomes[n]*Math.pow(e,n);return t}}]),e}();t.default=r},,,function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(9),a=i(s),c=n(7),u=i(c);n(0),n(20);var h=n(11),l=i(h),d=n(17),f=i(d),p=n(15),m=i(p),v=n(16),y=i(v),g=n(1),_=i(g),x=n(24),w=i(x),b=n(23),k=i(b),P=new a.default,L=new u.default;console.log(y.default);var M=new _.default([-3.25,10.38,-9.96,3.83,0]),O=function(){function t(){var n=this;o(this,t),this.container=document.querySelector("#main"),document.body.appendChild(this.container),this.camera=new e.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,0,8*window.innerWidth),this.camera.rotation.x=-Math.PI/32,this.camera.position.y=100,this.camera.position.z=2*window.innerWidth,P.position.y-=470,this.control=new e.OrbitControls(this.camera),this.scene=new e.Scene,this.lights={},this.colors={},this.night=!1,this.night?(this.colors.auroraLight=(0,m.default)("#3b3b57"),this.colors.dayLight=(0,m.default)("#091433"),this.colors.duskLight=(0,m.default)("#3d2841")):(this.colors.auroraLight=(0,m.default)("#9e2d02"),this.colors.dayLight=(0,m.default)("#93A9D6"),this.colors.duskLight=(0,m.default)("#ff3f2d")),this.lights.ambiantLight=new e.AmbientLight(this.colors.auroraLight.rgbNumber()),this.lights.cameraLight=new e.DirectionalLight("#fcc000",.1),this.lights.cameraLight.position.set(this.camera.position.x-500,this.camera.position.y,this.camera.position.z),this.scene.add(this.lights.ambiantLight),this.scene.add(this.lights.cameraLight),this.scene.add(P),P.onChange(function(e){n.scene.remove(P),n.scene.add(e)});var i=new e.BufferGeometry;i.addAttribute("position",new e.BufferAttribute(new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0]),3)),i.setIndex(new e.BufferAttribute(new Uint32Array([0,1,2,0,2,3]),1)),this.sky=new e.Mesh(i,new e.ShaderMaterial({uniforms:{from:{value:new e.Color((0,m.default)("#6899ff").mix(this.colors.auroraLight,.5).string())},to:{value:new e.Color((0,m.default)("#cfe0ff").mix(this.colors.auroraLight,.5).string())}},vertexShader:w.default,fragmentShader:k.default})),this.sky.position.z=-900,this.sky.lookAt(this.camera.position),this.scene.add(this.sky),this.scene.add(L),(new e.JSONLoader).load(y.default,function(t,i){var o=new e.Mesh(t,i);o.rotation.y=-Math.PI/2,o.position.set(400,-600,-window.innerWidth/4+window.innerWidth),o.scale.set(60,60,60),n.scene.add(o)}),this.renderer=new e.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize.bind(this),!1),this.onWindowResize(),this.renderer.animate(this.render.bind(this)),this.renderer.setClearColor(16777215,1),this.sound=new l.default(f.default,92,0,function(){n.sound.play()},!1)}return r(t,[{key:"render",value:function(){this.night?(this.colors.auroraLight=(0,m.default)("#3b3b57"),this.colors.dayLight=(0,m.default)("#091433"),this.colors.duskLight=(0,m.default)("#3d2841")):(this.colors.auroraLight=(0,m.default)("#9e2d02"),this.colors.dayLight=(0,m.default)("#93A9D6"),this.colors.duskLight=(0,m.default)("#ff3f2d"));var t=M.calculate(this.sound.time/this.sound.duration)%1;P.update(this.sound),L.update();var n=void 0,i=void 0;n=0<=t<.5?-(Math.sin(Math.PI/2+2*Math.PI*t)+1)/2:1,i=.5<=t<=1?(Math.cos(t*Math.PI*2)+1)/2:0;var o=this.colors.auroraLight.mix(this.colors.dayLight.mix(this.colors.duskLight,i),n);this.lights.ambiantLight.color=new e.Color(o.string()),this.sky.material.uniforms.from.value=new e.Color((0,m.default)("#598bff").mix(o).lighten(.1).rgbNumber()),this.sky.material.uniforms.to.value=new e.Color((0,m.default)("#c5d4ff").mix(o).lighten(.1).rgbNumber()),this.renderer.render(this.scene,this.camera)}},{key:"onWindowResize",value:function(){this.camera.left=window.innerWidth/-2,this.camera.right=window.innerWidth/2,this.camera.top=window.innerHeight/2,this.camera.bottom=window.innerHeight/-2,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}]),t}();t.default=O}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";n(5);var i=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(i);window.app=new o.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),h=n(22),l=i(h),d=n(21),f=i(d),p=function(e){function t(){o(this,t);var e=new u.BoxGeometry(2*window.innerWidth+200,2*window.innerWidth+200,80,20,20),n=(new u.MeshPhongMaterial({color:"#7fa0ff",emissive:"#0a126e",flatShading:!0,shininess:0}),new u.ShaderMaterial({uniforms:u.UniformsUtils.merge([u.ShaderLib.phong.uniforms,{time:{value:1},diffuse:{value:new u.Color("#6a6969")},emissive:{value:new u.Color("#0a1557")},shininess:{value:10}}]),vertexShader:l.default,fragmentShader:f.default,defines:{USE_MAP:!1},fog:!1,lights:!0,flatShading:!0})),i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.rotation.x=Math.PI/2,i.position.y=-window.innerHeight/2,i.position.z=window.innerWidth,i}return s(t,e),a(t,[{key:"update",value:function(){this.material.uniforms.time.value+=.01}}]),t}(u.Mesh);t.default=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),a=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(a),u=[315.82,-1243.51,1928.19,-1488.43,594.62,-117.53,10.83,0],h=new c.default(u),l=function(){function e(t,n){i(this,e),this.complexity=n,this.radius=t,this.spheres=[],this.geometry=new s.Geometry,this.material=new s.MeshPhongMaterial({color:"#bcbcbc",emissive:"#414141",flatShading:!0}),this.spheres=[],this.geometry=new s.Geometry;for(var o=0;o<this.complexity;o++){var r=.1+.8*Math.random(),a=this.radius*(h.calculate(r)/2);this.spheres.push(new s.Mesh(new s.IcosahedronGeometry(a,1))),this.spheres[o].position.x=r*this.radius,this.spheres[o].position.y=a,s.GeometryUtils.merge(this.geometry,this.spheres[o])}this.mesh=new s.Mesh(this.geometry,this.material),this.mesh.position.x=Math.random()*this.radius*2-(window.innerWidth/2+4*this.radius),this.mesh.position.y=Math.random()*(window.innerHeight/2.7)-this.radius/2+100,this.mesh.position.z=5*Math.random(),this.velocity=.2+.6*Math.random()}return o(e,[{key:"update",value:function(){this.mesh.position.x+=this.velocity}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),h=n(8),l=i(h),d=n(10),f=i(d),p=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.clouds=[];for(var i=10;i>0;i--){var s=new l.default(300,6);s.update(),s.mesh.position.x=window.innerWidth/2+4*s.radius-Math.random()*(window.innerWidth+4*s.radius),n.clouds.push(s),n.add(s.mesh)}return n.sun=new f.default,n.add(n.sun),n.add(n.sun.light),n.onChangeHook=!1,n}return s(t,e),a(t,[{key:"update",value:function(e){for(var t=0;t<this.clouds.length;t++)if(this.clouds[t].update(),this.clouds[t].mesh.position.x>window.innerWidth/2+this.clouds[t].radius){this.remove(this.clouds[t].mesh),this.clouds.splice(t,1);var n=new l.default(300,6);this.clouds.push(n),this.add(this.clouds[this.clouds.length-1].mesh),this.onChangeHook&&this.onChangeHook(this)}this.sun.update(e)}},{key:"onChange",value:function(e){this.onChangeHook=e}}]),t}(u.Group);t.default=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),u=n(1),h=function(e){return e&&e.__esModule?e:{default:e}}(u),l=(new h.default([-3.25,10.38,-9.96,3.83,0]),function(e){function t(){i(this,t),console.log("The sun is shining");var e=new c.IcosahedronGeometry(100,1),n=new c.MeshPhongMaterial({color:"#ff861c",emissive:"#958d91",flatShading:!1}),r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.radius=100,r.position.x=0,r.position.y=100,r.position.z=-600,r.light=new c.PointLight("#d59f00",.5),r.light.position.set(r.position.x,r.position.y,r.position.z),r}return r(t,e),s(t,[{key:"update",value:function(e){var t=e.time/e.duration%1,n=window.innerHeight/2,i=window.innerWidth/2-this.radius;this.position.x=-i*Math.cos(t*Math.PI),this.position.y=n*Math.sin(t*Math.PI)-3*this.radius-30,this.light.position.x=this.position.x,this.light.position.y=this.position.y,this.light.position.z=2*window.innerWidth,this.rotation.z+=.001}}]),t}(c.Mesh));t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,o,r){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i(this,e),this.ctx;try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.ctx=new AudioContext}catch(e){throw new Error("Web Audio API is not supported in this browser")}this._bpm=n,this._beatDuration=60/this._bpm,this._offsetTime=o,this._sections=[],this._kicks=[],this._beats=[],this._startTime=0,this._pauseTime=0,this._isPlaying=!1,this._isLoaded=!1,this._progress=0,this._onUpdate=this.onUpdate.bind(this),this._onEnded=this.onEnded.bind(this),this.gainNode=this.ctx.createGain(),this.gainNode.connect(this.ctx.destination),this.analyserNode=this.ctx.createAnalyser(),this.analyserNode.connect(this.gainNode),this.analyserNode.smoothingTimeConstant=.8,this.analyserNode.fftSize=512;var a=this.analyserNode.frequencyBinCount;this.frequencyDataArray=new Uint8Array(a),this.timeDomainDataArray=new Uint8Array(a),s&&(this.debug=new c(this)),this._load(t,r),window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame}return o(e,[{key:"_load",value:function(e,t){var n=this;if(e){this._isLoaded=!1,this._progress=0,this.onLoadHook=!1;var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onprogress=function(e){n._progress=e.loaded/e.total},i.onload=function(){n.ctx.decodeAudioData(i.response,function(e){n._buffer=e,n._isLoaded=!0,n.onLoadHook&&n.onLoadHook(),t&&t()},function(e){console.log(e)})},i.send()}}},{key:"onLoad",value:function(e){this.onLoadHook=e}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.req&&cancelAnimationFrame(this.req),this._onUpdate(),this._isPlaying=!0;var t=this._pauseTime-this._startTime+e;this._startTime=this.ctx.currentTime-t,this.sourceNode=this.ctx.createBufferSource(),this.sourceNode.connect(this.analyserNode),this.sourceNode.buffer=this._buffer,this.sourceNode.start(0,t),this.sourceNode.addEventListener("ended",this._onEnded,!1)}},{key:"pause",value:function(){this.req&&cancelAnimationFrame(this.req),this.sourceNode&&(this.sourceNode.removeEventListener("ended",this._onEnded,!1),this.sourceNode.stop(0),this.sourceNode.disconnect(),this.sourceNode=null),this._pauseTime=this.ctx.currentTime,this._isPlaying=!1}},{key:"stop",value:function(){this.pause()}},{key:"before",value:function(e,t,n){var i=this;return this._sections.push({label:e,condition:function(){return i.time<t},callback:n}),this}},{key:"after",value:function(e,t,n){var i=this;return this._sections.push({label:e,condition:function(){return i.time>t},callback:n}),this}},{key:"between",value:function(e,t,n,i){var o=this;return this._sections.push({label:e,condition:function(){return o.time>t&&o.time<n},callback:i}),this}},{key:"onceAt",value:function(e,t,n){var i=this,o=null;return this._sections.push({label:e,condition:function(){return i.time>t&&!this.called},callback:function(){console.log("once :",o.label),n.call(this),o.called=!0},called:!1}),o=this._sections[this._sections.length-1],this}},{key:"getSpectrum",value:function(){return this.analyserNode.getByteFrequencyData(this.frequencyDataArray),this.frequencyDataArray}},{key:"getWaveform",value:function(){return this.analyserNode.getByteTimeDomainData(this.timeDomainDataArray),this.timeDomainDataArray}},{key:"getFrequency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0,i=this.getSpectrum();if(void 0!==t){for(var o=e;o<=t;o++)n+=i[o];return n/(t-e+1)}return i[e]}},{key:"createKick",value:function(e){var t=e.frequency,n=e.threshold,i=e.decay,o=e.onKick,r=e.offKick,a=new s({frequency:t,threshold:n,decay:i,onKick:o,offKick:r});return this._kicks.push(a),a}},{key:"createBeat",value:function(e){var t=e.factor,n=e.onBeat,i=new a({factor:t,onBeat:n});return this._beats.push(i),i}},{key:"onUpdate",value:function(){this.req=requestAnimationFrame(this._onUpdate);for(var e in this._sections)this._sections[e].condition()&&this._sections[e].callback.call(this);var t=this.getSpectrum();for(var n in this._kicks)this._kicks[n].calc(t);var i=Math.max(0,this.time-this._offsetTime);for(var o in this._beats)this._beats[o].calc(i,this._beatDuration);this.debug&&this.debug.draw()}},{key:"onEnded",value:function(){this.stop()}},{key:"progress",get:function(){return this._progress}},{key:"isLoaded",get:function(){return this._isLoaded}},{key:"duration",get:function(){return this._isLoaded?this._buffer.duration:0}},{key:"time",get:function(){return this.isPlaying?this.ctx.currentTime-this._startTime:this._pauseTime-this._startTime}},{key:"volume",set:function(e){this.gainNode.gain.value=e},get:function(){return this.gainNode.gain.value}},{key:"isPlaying",get:function(){return this._isPlaying}},{key:"beatDuration",get:function(){return this._beatDuration}}]),e}();t.default=r;var s=function(){function e(t){var n=t.frequency,o=t.threshold,r=t.decay,s=t.onKick,a=t.offKick;i(this,e),this.frequency=void 0!==n?n:[0,10],this.threshold=void 0!==o?o:.3,this.decay=void 0!==r?r:.02,this.onKick=s,this.offKick=a,this.isOn=!1,this.isKick=!1,this.currentThreshold=this.threshold}return o(e,[{key:"on",value:function(){this.isOn=!0}},{key:"off",value:function(){this.isOn=!1}},{key:"set",value:function(e){var t=e.frequency,n=e.threshold,i=e.decay,o=e.onKick,r=e.offKick;this.frequency=void 0!==t?t:this.frequency,this.threshold=void 0!==n?n:this.threshold,this.decay=void 0!==i?i:this.decay,this.onKick=o||this.onKick,this.offKick=r||this.offKick}},{key:"calc",value:function(e){if(this.isOn){var t=this.maxAmplitude(e,this.frequency);t>=this.currentThreshold&&t>=this.threshold?(this.currentThreshold=t,this.onKick&&this.onKick(t),this.isKick=!0):(this.offKick&&this.offKick(t),this.currentThreshold-=this.decay,this.isKick=!1)}}},{key:"maxAmplitude",value:function(e,t){var n=0;if(!t.length)return t<e.length?e[~~t]:null;for(var i=t[0],o=t[1];i<=o;i++)e[i]>n&&(n=e[i]);return n}}]),e}(),a=function(){function e(t){var n=t.factor,o=t.onBeat;i(this,e),this.factor=void 0!==n?n:1,this.onBeat=o,this.isOn=!1,this.currentTime=0}return o(e,[{key:"on",value:function(){this.isOn=!0}},{key:"off",value:function(){this.isOn=!1}},{key:"set",value:function(e){var t=e.factor,n=e.onBeat;this.factor=void 0!==t?t:this.factor,this.onBeat=n||this.onBeat}},{key:"calc",value:function(e,t){if(0!=e){var n=t*this.factor;e>=this.currentTime+n&&(this.isOn&&this.onBeat&&this.onBeat(),this.currentTime+=n)}}}]),e}(),c=function(){function e(t){i(this,e),this.sound=t,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=300,this.canvas.style.position="absolute",this.canvas.style.bottom=0,this.canvas.style.left=200,this.canvas.style.right=200,this.canvas.style.zIndex=3,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),window.addEventListener("resize",this.resize.bind(this),!1),this.resize()}return o(e,[{key:"resize",value:function(){this.canvas.width=window.innerWidth}},{key:"draw",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#000000",this.ctx.fill(),this.ctx.strokeStyle="#a1a1a1",this.ctx.stroke(),this.ctx.beginPath();for(var e=this.sound.getSpectrum(),t=null,n=e.length,i=this.canvas.width/n,o=this.canvas.height-10,r=0;r<n;r++)t=e[r]/256,this.ctx.rect(r*i,o-o*t,i/2,o*t);this.ctx.fillStyle="#ffffff",this.ctx.fill(),this.ctx.beginPath(),this.ctx.font="10px Arial",this.ctx.textBaseline="middle",this.ctx.textAlign="left";for(var s=0,a=n;s<a;s++)s%10==0&&(this.ctx.rect(s*i,o,i/2,10),this.ctx.fillText(s,s*i+4,o+5));this.ctx.fillStyle="#ffffff",this.ctx.fill();for(var c=this.sound._kicks,u=null,h=c.length,l=null,d=null,f=0,p=h;f<p;f++)u=c[f],u.isOn&&(l=u.frequency.length?u.frequency[0]:u.frequency,d=u.frequency.length?u.frequency[1]-u.frequency[0]+1:1,this.ctx.beginPath(),this.ctx.rect(l*i,o-o*(u.threshold/256),d*i-.5*i,2),this.ctx.rect(l*i,o-o*(u.currentThreshold/256),d*i-.5*i,5),this.ctx.fillStyle=u.isKick?"#00ff00":"#ff0000",this.ctx.fill());this.ctx.beginPath();for(var m=this.sound.getWaveform(),v=null,y=m.length,g=this.canvas.width/y,_=this.canvas.height-10,x=0;x<y;x++)v=m[x]/256,0==x?this.ctx.moveTo(x*g,_*v):this.ctx.lineTo(x*g,_*v);this.ctx.strokeStyle="#0000ff",this.ctx.stroke(),this.ctx.beginPath(),this.ctx.textAlign="right",this.ctx.textBaseline="top",this.ctx.font="15px Arial",this.ctx.fillStyle="#ffffff",this.ctx.fillText(Math.round(10*this.sound.time)/10+" / "+Math.round(10*this.sound.duration)/10,this.canvas.width-5,5),this.ctx.beginPath();for(var w=this.sound._sections,b=null,k=w.length,P="",L=0,M=k;L<M;L++)b=w[L],b.condition()&&(P+=b.label+" - ");P.length>0&&(P=P.substr(0,P.length-3)),this.ctx.fillText(P,this.canvas.width-5,25),this.ctx.fill()}}]),e}()},,,,,function(e,t,n){e.exports=n.p+"scripts/Objects/phare.22bdef33a80f5654f3f21dbc8119ca62.json"},function(e,t,n){e.exports=n.p+"scripts/sound/cloudy.8646b97992193387970c0a0c421b2a99.mp3"},,,,function(e,t){e.exports="#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n"},function(e,t){e.exports="#define PHONG\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nuniform float time;\n\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\tfloat speed = .003;\n    transformed.z += (snoise(time / 4. + transformed * speed) * 40.);\n    transformed.y += (snoise(time / 4.  + transformed * speed) * 40.);\n    transformed.x += (snoise(time / 4.  + transformed * speed) * 40.);\n\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - transformed.xyz;\n\n\n\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},function(e,t){e.exports="varying vec4 vColor;\n\nvoid main() {\n\n    gl_FragColor = vColor;\n}\n"},function(e,t){e.exports="varying vec4 vColor;\nuniform vec3 from;\nuniform vec3 to;\nvoid main() {\n    gl_Position = vec4(position, 1);\n    vColor = vec4(gl_Position.y * from + (1.0 - gl_Position.y) * to , 1);\n}\n"}],[6]);