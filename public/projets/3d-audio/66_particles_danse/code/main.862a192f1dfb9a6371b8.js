webpackJsonp([0],[,function(t,e,n){"use strict";(function(t){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(29),a=(i(o),n(4)),c=i(a),h=n(17),u=i(h),l=n(22),d=i(l),f=n(16),p=i(f),v=n(18),y=i(v),m=n(20),x=i(m),w=n(19),g=i(w),b=n(21),_=i(b),M=n(33),k=i(M),z=n(32),P=i(z),E=n(9),S=i(E),T=n(11),C=i(T),q=n(7),O=i(q),A=function(){function e(){r(this,e),this.container=document.querySelector("#main"),document.body.appendChild(this.container),this.camera=new x.default(70,window.innerWidth/window.innerHeight,.1,this.resolutionZ,250,150,1),this.scene=new t.Scene,this.time=0,this.distance=200,this.resolutionX=window.innerWidth,this.resolutionY=window.innerHeight,this.resolutionZ=1e4,this.renderer=new t.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize.bind(this),!1),this.onWindowResize(),this.renderer.animate(this.render.bind(this)),this.colors=new p.default,this.animations=new g.default,this.controls=new _.default,this.initPostProcessing(),this.audioManager(),this.nbParticles=1e4,this.nbPoints=80,this.stateManager=new y.default(this.nbParticles),this.initialRatio=.0055,this.ratio=.06,this.particles=new C.default(this.nbPoints);for(var n=0;n<this.nbPoints;n++)this.scene.add(this.particles.particles[n]);this.initial=new S.default(this.nbParticles),this.final=new O.default(this.nbParticles),this.currentPattern={type:"sphere",isActive:!0,data:this.stateManager.sphereState.data};var i={u_time:{type:"f",value:1},u_frequency:{type:"f",value:this.audio.arrAverage(this.audio.getSpectrum())},u_resolution:{type:"f",value:window.innerWidth},u_enter_anim:{type:"f",value:0}};this.particlesMaterial=new t.ShaderMaterial({uniforms:i,vertexShader:k.default,fragmentShader:P.default}),this.particlesField=new t.Points(this.initial.initialGeometry,this.particlesMaterial),this.scene.add(this.particlesField)}return s(e,[{key:"initPostProcessing",value:function(){this.glitchMode=new c.default(this.renderer,this.scene,this.camera.pov)}},{key:"checkPattern",value:function(){!this.changingState||"sphere"!=this.currentPattern.type&&"torus"!=this.currentPattern.type||(this.particlesMaterial.uniforms.u_frequency.value=this.audio.arrAverage(this.audio.getSpectrum())/5)}},{key:"audioManager",value:function(){var t=this,e=document.querySelector(".btn"),n=document.querySelector(".sound_on"),i=document.querySelector(".sound_off");this.kickTempo=0,this.audio=new u.default(d.default,103,.3,function(){t.audio._load(d.default,function(){t.animations.firstAnimation(),e.addEventListener("click",function(){t.audio.play()})})},!1),this.audio.between("first movement",0,18.5,function(){t.stateManager.displacement(t.nbParticles,t.stateManager.sphereState.data.points,t.initial.points,t.initialRatio)}),this.audio.between("first drop",37,46,function(){t.bass.on()}),this.audio.between("normal part",46,121,function(){t.bass.off(),document.querySelector("canvas").style.background="#1a1a1a",t.glitchMode.glitchPass.renderToScreen=!1}),this.audio.between("second drop",121,129.5,function(){t.bass.on()}),this.audio.between("normal part",129.5,204.5,function(){t.bass.off(),document.querySelector("canvas").style.background="#1a1a1a",t.glitchMode.glitchPass.renderToScreen=!1}),this.audio.after("normal part",205,function(){t.stateManager.displacement(t.nbParticles,t.final.points,t.currentPattern.data.points,t.initialRatio)}),this.audio.onceAt("end",224,function(){t.audio.pause(),t.animations.finalAnimation()}),this.bass=this.audio.createKick({frequency:3,decay:1,threshold:255,onKick:function(){t.kickTempo>10&&(t.kickTempo=0,document.querySelector("canvas").style.background=t.colors.getNewColor(),t.glitchMode.glitchPass.renderToScreen=!0)}}),this.kick=this.audio.createKick({frequency:200,decay:1,threshold:5,onKick:function(){t.kickTempo>25&&(t.kickTempo=0,t.currentPattern=t.stateManager.getNewPattern(t.stateManager.states),t.changingState=!0,t.camera.speed=2,setTimeout(function(){t.camera.speed=-2},3e3))}}),this.kick.on(),n.addEventListener("click",function(){t.audio.pause(),n.style.display="none",i.style.display="block"}),i.addEventListener("click",function(){t.audio.play(),n.style.display="block",i.style.display="none"})}},{key:"render",value:function(){this.kickTempo+=1,this.time+=.01,this.particlesMaterial.uniforms.u_time.value=this.time,this.particlesMaterial.uniforms.u_frequency.value=1,this.checkPattern(),this.particles.moveParticles(),this.initial.initialGeometry.verticesNeedUpdate=!0,this.changingState&&this.stateManager.displacement(this.nbParticles,this.currentPattern.data.points,this.initial.points,this.ratio),this.camera.rotate(this.particlesField.position,this.distance,this.time),this.renderer.render(this.scene,this.camera.pov),this.glitchMode.composer.render()}},{key:"onWindowResize",value:function(){this.camera.pov.aspect=window.innerWidth/window.innerHeight,this.camera.pov.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}]),e}();e.default=A}).call(e,n(0))},function(t,e){},function(t,e,n){"use strict";n(2);var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i);window.app=new r.default},function(t,e,n){"use strict";(function(t){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=n(26),o=i(s),a=n(30),c=i(a),h=n(28),u=(i(h),n(31)),l=i(u),d=n(27),f=i(d),p=n(24),v=(i(p),n(25)),y=(i(v),function e(n,i,s){r(this,e),this.composer=new o.default(n),this.composer.setSize(window.innerWidth,window.innerHeight),this.renderScene=new c.default(i,s),this.copyShader=new l.default(t.CopyShader),this.composer.addPass(new c.default(i,s)),this.glitchPass=new f.default,this.composer.addPass(this.glitchPass),this.copyShader.renderToScreen=!0});e.default=y}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function e(i){n(this,e),this.points=[];for(var r=0;r<i;r++){var s=new t.Vector3;s.x=2*Math.random()-1,s.y=2*Math.random()-1,s.z=2*Math.random()-1,this.points.push(s)}};e.default=i}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function e(i){n(this,e),this.points=[];for(var r=0;r<i;r++){var s=new t.Vector3;this.alpha=Math.random()*(2*Math.PI),this.theta=Math.random()*(2*Math.PI),s.x=Math.cos(this.alpha),s.y=Math.sin(this.alpha),s.z=-Math.sin(this.theta),this.points.push(s)}};e.default=i}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function e(i){n(this,e),this.points=[],this.finalGeometry=new t.Geometry;for(var r=0;r<i;r++){var s=new t.Vector3;s.x=100*Math.random()-50,s.y=100*Math.random()-50,s.z=100*Math.random()-50,this.finalGeometry.vertices.push(s),this.points.push(s)}};e.default=i}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function e(i){n(this,e),this.points=[];for(var r=0;r<i;r++){var s=new t.Vector3;this.alpha=Math.random()*(2*Math.PI),this.theta=Math.random()*(Math.PI/2),s.x=Math.cos(this.alpha)*Math.sin(this.theta),s.y=Math.sin(this.alpha)*Math.sin(this.theta),s.z=Math.cos(this.theta),this.points.push(s)}};e.default=i}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function e(i){n(this,e),this.points=[],this.initialGeometry=new t.Geometry;for(var r=0;r<i;r++){var s=new t.Vector3;s.x=100*Math.random()-50,s.y=100*Math.random()-50,s.z=100*Math.random()-50,this.initialGeometry.vertices.push(s),this.points.push(s)}};e.default=i}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function e(i){n(this,e),this.points=[];for(var r=0;r<i;r++){var s=new t.Vector3;this.alpha=Math.random()*(2*Math.PI)-Math.random()*Math.PI*2,this.theta=Math.random()*Math.PI-Math.random()*Math.PI*2,s.x=Math.pow(Math.cos(this.alpha)*Math.cos(this.theta),3),s.y=Math.pow(Math.sin(this.alpha)*Math.cos(this.theta),3),s.z=Math.pow(Math.sin(this.theta),3),this.points.push(s)}};e.default=i}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function e(i){n(this,e),this.particles=[];for(var r=0;r<i;r++){var s=new t.Vector3,o=new t.SphereGeometry(.4,32,32),a=new t.MeshBasicMaterial({color:16777215}),s=new t.Mesh(o,a);s.position.x=1e3*Math.random()-500,s.position.y=1e3*Math.random()-500,s.position.z=1e3*Math.random()-500,this.particles.push(s)}}return i(e,[{key:"moveParticles",value:function(){for(var t=0;t<this.particles.length;t++){var e=this.particles[t];e.position.z+=t/5,e.position.z>1e3&&(e.position.z-=2e3)}}}]),e}();e.default=r}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function e(i){n(this,e),this.points=[];for(var r=0;r<i;r++){var s=new t.Vector3;this.alpha=Math.random()*(2*Math.PI),this.theta=Math.random()*(2*Math.PI),s.x=Math.cos(this.alpha),s.y=Math.sin(this.theta),s.z=-Math.sin(this.theta),this.points.push(s)}};e.default=i}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function e(i){n(this,e),this.points=[];for(var r=0;r<i;r++){var s=new t.Vector3;this.alpha=Math.random()*Math.PI,this.theta=Math.random()*(2*Math.PI),s.x=Math.cos(this.alpha)*Math.sin(this.theta),s.y=Math.sin(this.alpha)*Math.sin(this.theta),s.z=Math.cos(this.theta),this.points.push(s)}};e.default=i}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function e(i){n(this,e),this.points=[];for(var r=0;r<i;r++){var s=new t.Vector3;this.alpha=2*Math.random()*Math.PI,this.theta=Math.random()*Math.PI,s.x=Math.cos(this.theta)*Math.sin(this.theta)*Math.cos(this.alpha)*.7*2,s.y=2*-Math.sin(this.theta)+1,s.z=Math.cos(this.theta)*Math.sin(this.theta)*Math.sin(this.alpha)*.7*2,this.points.push(s)}};e.default=i}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function e(i){n(this,e),this.points=[];for(var r=0;r<i;r++){var s=new t.Vector3;this.alpha=Math.random()*(2*Math.PI),this.theta=Math.random()*(2*Math.PI),s.x=(1+(1+Math.cos(this.theta)))*Math.cos(this.alpha),s.y=(1+(1+Math.cos(this.theta)))*Math.sin(this.alpha),s.z=Math.sin(this.theta),this.points.push(s)}};e.default=i}).call(e,n(0))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(){i(this,t),this.colors=[],this.firstColor={type:"first",isActive:!1,data:"#F5B076"},this.secondColor={type:"second",isActive:!1,data:"#EB8063"},this.thirdColor={type:"third",isActive:!1,data:"#D3475B"},this.fourthColor={type:"fourth",isActive:!1,data:"#474889"},this.fifthColor={type:"fifth",isActive:!1,data:"#1E1D45"},this.colors.push(this.firstColor,this.secondColor,this.thirdColor,this.fourthColor,this.fifthColor)}return r(t,[{key:"getNewColor",value:function(){var t=this.colors.filter(function(t){return 1!=t.isActive}),e=t[Math.floor(Math.random()*t.length)];return this.colors.forEach(function(t){t.isActive=!1}),e.isActive=!0,this.currentColor=e,this.currentColor.data}}]),t}();e.default=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e,n,r,s){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i(this,t),this.ctx;try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.ctx=new AudioContext}catch(t){throw new Error("Web Audio API is not supported in this browser")}this._bpm=n,this._beatDuration=60/this._bpm,this._offsetTime=r,this._sections=[],this._kicks=[],this._beats=[],this._startTime=0,this._pauseTime=0,this._isPlaying=!1,this._isLoaded=!1,this._progress=0,this._onUpdate=this.onUpdate.bind(this),this._onEnded=this.onEnded.bind(this),this.gainNode=this.ctx.createGain(),this.gainNode.connect(this.ctx.destination),this.analyserNode=this.ctx.createAnalyser(),this.analyserNode.connect(this.gainNode),this.analyserNode.smoothingTimeConstant=.8,this.analyserNode.fftSize=512;var a=this.analyserNode.frequencyBinCount;this.frequencyDataArray=new Uint8Array(a),this.timeDomainDataArray=new Uint8Array(a),o&&(this.debug=new c(this)),this._load(e,s),window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame}return r(t,[{key:"_load",value:function(t,e){var n=this;if(t){this._isLoaded=!1,this._progress=0;var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onprogress=function(t){n._progress=t.loaded/t.total},i.onload=function(){n.ctx.decodeAudioData(i.response,function(t){n._buffer=t,n._isLoaded=!0,e&&e()},function(t){console.log(t)})},i.send()}}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.req&&cancelAnimationFrame(this.req),this._onUpdate(),this._isPlaying=!0;var e=this._pauseTime-this._startTime+t;this._startTime=this.ctx.currentTime-e,this.sourceNode=this.ctx.createBufferSource(),this.sourceNode.connect(this.analyserNode),this.sourceNode.buffer=this._buffer,this.sourceNode.start(0,e),this.sourceNode.addEventListener("ended",this._onEnded,!1)}},{key:"pause",value:function(){this.req&&cancelAnimationFrame(this.req),this.sourceNode&&(this.sourceNode.removeEventListener("ended",this._onEnded,!1),this.sourceNode.stop(0),this.sourceNode.disconnect(),this.sourceNode=null),this._pauseTime=this.ctx.currentTime,this._isPlaying=!1}},{key:"before",value:function(t,e,n){var i=this;return this._sections.push({label:t,condition:function(){return i.time<e},callback:n}),this}},{key:"after",value:function(t,e,n){var i=this;return this._sections.push({label:t,condition:function(){return i.time>e},callback:n}),this}},{key:"between",value:function(t,e,n,i){var r=this;return this._sections.push({label:t,condition:function(){return r.time>e&&r.time<n},callback:i}),this}},{key:"onceAt",value:function(t,e,n){var i=this,r=null;return this._sections.push({label:t,condition:function(){return i.time>e&&!this.called},callback:function(){n.call(this),r.called=!0},called:!1}),r=this._sections[this._sections.length-1],this}},{key:"getSpectrum",value:function(){return this.analyserNode.getByteFrequencyData(this.frequencyDataArray),this.frequencyDataArray}},{key:"arrAverage",value:function(t){return t.reduce(function(t,e){return t+e})/t.length}},{key:"getAverage",value:function(){for(var t=0,e=this.getSpectrum(),n=0;n<e.length;n++)t+=e[n];return t/e.length}},{key:"getWaveform",value:function(){return this.analyserNode.getByteTimeDomainData(this.timeDomainDataArray),this.timeDomainDataArray}},{key:"getFrequency",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0,i=this.getSpectrum();if(void 0!==e){for(var r=t;r<=e;r++)n+=i[r];return n/(e-t+1)}return i[t]}},{key:"createKick",value:function(t){var e=t.frequency,n=t.threshold,i=t.decay,r=t.onKick,s=t.offKick,a=new o({frequency:e,threshold:n,decay:i,onKick:r,offKick:s});return this._kicks.push(a),a}},{key:"createBeat",value:function(t){var e=t.factor,n=t.onBeat,i=new a({factor:e,onBeat:n});return this._beats.push(i),i}},{key:"onUpdate",value:function(){this.req=requestAnimationFrame(this._onUpdate);for(var t in this._sections)this._sections[t].condition()&&this._sections[t].callback.call(this);var e=this.getSpectrum();for(var n in this._kicks)this._kicks[n].calc(e);var i=Math.max(0,this.time-this._offsetTime);for(var r in this._beats)this._beats[r].calc(i,this._beatDuration);this.debug&&this.debug.draw()}},{key:"onEnded",value:function(){console.log("fin")}},{key:"progress",get:function(){return this._progress}},{key:"isLoaded",get:function(){return this._isLoaded}},{key:"duration",get:function(){return this._isLoaded?this._buffer.duration:0}},{key:"time",get:function(){return this.isPlaying?this.ctx.currentTime-this._startTime:this._pauseTime-this._startTime}},{key:"volume",set:function(t){this.gainNode.gain.value=t},get:function(){return this.gainNode.gain.value}},{key:"isPlaying",get:function(){return this._isPlaying}},{key:"beatDuration",get:function(){return this._beatDuration}}]),t}();e.default=s;var o=function(){function t(e){var n=e.frequency,r=e.threshold,s=e.decay,o=e.onKick,a=e.offKick;i(this,t),this.frequency=void 0!==n?n:[0,10],this.threshold=void 0!==r?r:.3,this.decay=void 0!==s?s:.02,this.onKick=o,this.offKick=a,this.isOn=!1,this.isKick=!1,this.currentThreshold=this.threshold}return r(t,[{key:"on",value:function(){this.isOn=!0}},{key:"off",value:function(){this.isOn=!1}},{key:"set",value:function(t){var e=t.frequency,n=t.threshold,i=t.decay,r=t.onKick,s=t.offKick;this.frequency=void 0!==e?e:this.frequency,this.threshold=void 0!==n?n:this.threshold,this.decay=void 0!==i?i:this.decay,this.onKick=r||this.onKick,this.offKick=s||this.offKick}},{key:"calc",value:function(t){if(this.isOn){var e=this.maxAmplitude(t,this.frequency);e>=this.currentThreshold&&e>=this.threshold?(this.currentThreshold=e,this.onKick&&this.onKick(e),this.isKick=!0):(this.offKick&&this.offKick(e),this.currentThreshold-=this.decay,this.isKick=!1)}}},{key:"maxAmplitude",value:function(t,e){var n=0;if(!e.length)return e<t.length?t[~~e]:null;for(var i=e[0],r=e[1];i<=r;i++)t[i]>n&&(n=t[i]);return n}}]),t}(),a=function(){function t(e){var n=e.factor,r=e.onBeat;i(this,t),this.factor=void 0!==n?n:1,this.onBeat=r,this.isOn=!1,this.currentTime=0}return r(t,[{key:"on",value:function(){this.isOn=!0}},{key:"off",value:function(){this.isOn=!1}},{key:"set",value:function(t){var e=t.factor,n=t.onBeat;this.factor=void 0!==e?e:this.factor,this.onBeat=n||this.onBeat}},{key:"calc",value:function(t,e){if(0!=t){var n=e*this.factor;t>=this.currentTime+n&&(this.isOn&&this.onBeat&&this.onBeat(),this.currentTime+=n)}}}]),t}(),c=function(){function t(e){i(this,t),this.sound=e,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=300,this.canvas.style.position="absolute",this.canvas.style.bottom=0,this.canvas.style.left=0,this.canvas.style.zIndex=3,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),window.addEventListener("resize",this.resize.bind(this),!1),this.resize()}return r(t,[{key:"resize",value:function(){this.canvas.width=window.innerWidth}},{key:"draw",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#000000",this.ctx.fill(),this.ctx.strokeStyle="#a1a1a1",this.ctx.stroke(),this.ctx.beginPath();for(var t=this.sound.getSpectrum(),e=null,n=t.length,i=this.canvas.width/n,r=this.canvas.height-10,s=0;s<n;s++)e=t[s]/256,this.ctx.rect(s*i,r-r*e,i/2,r*e);this.ctx.fillStyle="#ffffff",this.ctx.fill(),this.ctx.beginPath(),this.ctx.font="10px Arial",this.ctx.textBaseline="middle",this.ctx.textAlign="left";for(var o=0,a=n;o<a;o++)o%10==0&&(this.ctx.rect(o*i,r,i/2,10),this.ctx.fillText(o,o*i+4,r+5));this.ctx.fillStyle="#ffffff",this.ctx.fill();for(var c=this.sound._kicks,h=null,u=c.length,l=null,d=null,f=0,p=u;f<p;f++)h=c[f],h.isOn&&(l=h.frequency.length?h.frequency[0]:h.frequency,d=h.frequency.length?h.frequency[1]-h.frequency[0]+1:1,this.ctx.beginPath(),this.ctx.rect(l*i,r-r*(h.threshold/256),d*i-.5*i,2),this.ctx.rect(l*i,r-r*(h.currentThreshold/256),d*i-.5*i,5),this.ctx.fillStyle=h.isKick?"#00ff00":"#ff0000",this.ctx.fill());this.ctx.beginPath();for(var v=this.sound.getWaveform(),y=null,m=v.length,x=this.canvas.width/m,w=this.canvas.height-10,g=0;g<m;g++)y=v[g]/256,0==g?this.ctx.moveTo(g*x,w*y):this.ctx.lineTo(g*x,w*y);this.ctx.strokeStyle="#0000ff",this.ctx.stroke(),this.ctx.beginPath(),this.ctx.textAlign="right",this.ctx.textBaseline="top",this.ctx.font="15px Arial",this.ctx.fillStyle="#ffffff",this.ctx.fillText(Math.round(10*this.sound.time)/10+" / "+Math.round(10*this.sound.duration)/10,this.canvas.width-5,5),this.ctx.beginPath();for(var b=this.sound._sections,_=null,M=b.length,k="",z=0,P=M;z<P;z++)_=b[z],_.condition()&&(k+=_.label+" - ");k.length>0&&(k=k.substr(0,k.length-3)),this.ctx.fillText(k,this.canvas.width-5,25),this.ctx.fill()}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(5),a=i(o),c=n(8),h=i(c),u=n(10),l=i(u),d=n(12),f=i(d),p=n(6),v=i(p),y=n(13),m=i(y),x=n(14),w=i(x),g=n(15),b=i(g),_=function(){function t(e){r(this,t),this.cube=new a.default(e),this.cylinder=new v.default(e),this.hemisphere=new h.default(e),this.octa=new l.default(e),this.plane=new f.default(e),this.sphere=new m.default(e),this.tear=new w.default(e),this.torus=new b.default(e),this.states=[],this.cubeState={type:"cube",isActive:!1,data:this.cube},this.cylinderState={type:"cylinder",isActive:!1,data:this.cylinder},this.hemisphereState={type:"hemisphere",isActive:!1,data:this.hemisphere},this.planeState={type:"plane",isActive:!1,data:this.plane},this.octaState={type:"octa",isActive:!1,data:this.octa},this.sphereState={type:"sphere",isActive:!1,data:this.sphere},this.tearState={type:"tear",isActive:!1,data:this.tear},this.torusState={type:"torus",isActive:!1,data:this.torus},this.states.push(this.cubeState,this.cylinderState,this.hemisphereState,this.planeState,this.octaState,this.sphereState,this.tearState,this.torusState)}return s(t,[{key:"displacement",value:function(t,e,n,i){for(var r=0;r<t;r++)n[r].x+=(e[r].x-n[r].x)*i,n[r].y+=(e[r].y-n[r].y)*i,n[r].z+=(e[r].z-n[r].z)*i}},{key:"getNewPattern",value:function(t){var e=t.filter(function(t){return 1!=t.isActive}),n=e[Math.floor(Math.random()*e.length)];return t.forEach(function(t){t.isActive=!1}),n.isActive=!0,n}}]),t}();e.default=_},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(n(23),function(){function t(){i(this,t),this.wrapper=document.getElementById("wrapper"),this.container=document.getElementById("container"),this.title=document.querySelector(".title"),this.canvas=document.querySelector("canvas"),this.subtitle=document.querySelector("h3"),this.description=document.querySelector("h5"),this.subtitles=document.querySelector(".first-part"),this.author=document.querySelector(".author"),this.button=document.querySelector(".btn"),this.song=document.querySelector(".song"),this.github=document.querySelector(".github"),this.tools=document.querySelector(".tools"),this.controls=document.querySelector(".controls"),this.textContent=document.querySelector(".text-content"),this.endWrapper=document.getElementById("end-wrapper"),this.endContent=document.querySelector(".end-content"),this.endContainer=document.getElementById("end-container"),this.endTitle=document.querySelector(".end-title"),this.loader=document.querySelector(".loader"),this.tl=new TimelineMax,this.endTl=new TimelineMax}return r(t,[{key:"firstAnimation",value:function(){var t=this;this.tl.to(this.loader,.3,{opacity:0}),setTimeout(function(){t.loader.style.display="none"},500),window.innerWidth<=500?(this.tl.to(this.container,1,{width:"91%",ease:Expo.easeOut},"+=1"),this.tl.to(this.container,1,{height:"95%",ease:Expo.easeOut})):window.innerWidth>500&&window.innerWidth<=767?(this.tl.to(this.container,1,{width:"96%",ease:Expo.easeOut},"+=1"),this.tl.to(this.container,1,{height:"96%",ease:Expo.easeOut})):window.innerWidth>767&&window.innerWidth<=1024?(this.tl.to(this.container,1,{width:"95%",ease:Expo.easeOut},"+=1"),this.tl.to(this.container,1,{height:"96%",ease:Expo.easeOut})):window.innerWidth>1024&&window.innerWidth<=1439?(this.tl.to(this.container,1,{width:"96%",ease:Expo.easeOut},"+=1"),this.tl.to(this.container,1,{height:"93%",ease:Expo.easeOut})):window.innerWidth>1439&&(this.tl.to(this.container,1,{width:"96%",ease:Expo.easeOut},"+=1"),this.tl.to(this.container,1,{height:"93%",ease:Expo.easeOut})),this.tl.to(this.title,1,{opacity:1,y:"-90",ease:Expo.easeOut}),this.tl.to(this.subtitle,1,{opacity:1,ease:Expo.easeOut}),this.tl.to(this.description,1.2,{opacity:1,ease:Expo.easeOut}),this.tl.to(this.subtitles,.7,{opacity:0,ease:Expo.easeOut},"+=0.8"),this.tl.to(this.button,1,{display:"inline-block"}),this.tl.to(this.author,1.5,{opacity:1,ease:Expo.easeOut}),this.tl.to(this.button,1.5,{opacity:1,ease:Expo.easeOut},"-=1.5"),this.button.addEventListener("click",function(){t.tl.to(t.author,1,{opacity:0,ease:Expo.easeOut}),t.tl.to(t.button,1,{opacity:0,ease:Expo.easeOut},"-=1"),t.tl.to(t.container,.75,{height:"1.5px",ease:Expo.easeOut}),t.tl.to(t.container,.75,{width:"0%",ease:Expo.easeOut}),setTimeout(function(){t.wrapper.style.display="none",t.tl.to(t.canvas,1,{opacity:1,ease:Expo.easeOut},"+=0.5"),t.tl.to(t.song,1,{opacity:1,ease:Expo.easeOut},"+=1.5"),t.tl.to(t.github,1,{opacity:1,ease:Expo.easeOut},"-=1"),t.tl.to(t.tools,1,{opacity:1,ease:Expo.easeOut},"-=1")},2700)})}},{key:"finalAnimation",value:function(){this.endWrapper.style.background="#1a1a1a",this.tl.to(this.song,1,{opacity:0}),this.tl.to(this.github,1,{opacity:0},"-=1"),this.tl.to(this.tools,1,{opacity:0},"-=1"),this.endWrapper.style.display="flex",this.endContainer.style.display="block",window.innerWidth<=500?(this.endTl.to(this.endContainer,1,{width:"91%",ease:Expo.easeOut},"+=1"),this.endTl.to(this.endContainer,1,{height:"95%",ease:Expo.easeOut})):window.innerWidth>500&&window.innerWidth<=767?(this.endTl.to(this.endContainer,1,{width:"96%",ease:Expo.easeOut},"+=1"),this.endTl.to(this.endContainer,1,{height:"96%",ease:Expo.easeOut})):window.innerWidth>767&&window.innerWidth<=1024?(this.endTl.to(this.endContainer,1,{width:"95%",ease:Expo.easeOut},"+=1"),this.endTl.to(this.endContainer,1,{height:"96%",ease:Expo.easeOut})):window.innerWidth>1024&&window.innerWidth<=1439?(this.endTl.to(this.endContainer,1,{width:"96%",ease:Expo.easeOut},"+=1"),this.endTl.to(this.endContainer,1,{height:"93%",ease:Expo.easeOut})):window.innerWidth>1439&&(this.endTl.to(this.endContainer,1,{width:"96%",ease:Expo.easeOut},"+=1"),this.endTl.to(this.endContainer,1,{height:"93%",ease:Expo.easeOut})),this.endTl.to(this.endTitle,1,{opacity:1,y:-40,ease:Power4.easeOut}),this.endTl.staggerFrom(".social",1.5,{scale:.5,opacity:0,ease:Elastic.easeOut,force3D:!0},.2)}}]),t}());e.default=s},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function e(i,r,s,o,a,c,h){n(this,e),this.pov=new t.PerspectiveCamera(i,r,s,o),this.pov.position.z=a,this.pov.position.y=c,this.speed=h}return i(e,[{key:"rotate",value:function(t,e,n){this.pov.position.x=t.x+e*Math.cos(n*this.speed),this.pov.position.y=t.y+e*Math.sin(n*this.speed),this.pov.position.z=t.z+e*Math.sin(n*this.speed),this.pov.lookAt(t)}}]),e}();e.default=r}).call(e,n(0))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(){i(this,t),document.querySelector(".full_screen").addEventListener("click",function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)})};e.default=r},function(t,e,n){t.exports=n.p+"assets/audio/gramatik.dc689be77a9ca4eee7f46857e3c81c98.mp3"},,,,,,,,,,function(t,e){t.exports="uniform float u_time;\r\nuniform float u_frequency;\r\n\r\nvec3 colorA = vec3(0.31,0.30,0.67);\r\nvec3 colorB = vec3(0.51,0.44,0.64);\r\nvec3 mod289(vec3 x) {\r\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\r\n}\r\n\r\nvec4 mod289(vec4 x) {\r\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\r\n}\r\n\r\nvec4 permute(vec4 x) {\r\n     return mod289(((x*34.0)+1.0)*x);\r\n}\r\n\r\nvec4 taylorInvSqrt(vec4 r)\r\n{\r\n  return 1.79284291400159 - 0.85373472095314 * r;\r\n}\r\n\r\nfloat snoise(vec3 v)\r\n  { \r\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\r\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\r\n\r\n// First corner\r\n  vec3 i  = floor(v + dot(v, C.yyy) );\r\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\r\n\r\n// Other corners\r\n  vec3 g = step(x0.yzx, x0.xyz);\r\n  vec3 l = 1.0 - g;\r\n  vec3 i1 = min( g.xyz, l.zxy );\r\n  vec3 i2 = max( g.xyz, l.zxy );\r\n\r\n  vec3 x1 = x0 - i1 + C.xxx;\r\n  vec3 x2 = x0 - i2 + C.yyy;\r\n  vec3 x3 = x0 - D.yyy;\r\n\r\n// Permutations\r\n  i = mod289(i); \r\n  vec4 p = permute( permute( permute( \r\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\r\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \r\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\r\n\r\n\r\n  float n_ = 0.142857142857; // 1.0/7.0\r\n  vec3  ns = n_ * D.wyz - D.xzx;\r\n\r\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\r\n\r\n  vec4 x_ = floor(j * ns.z);\r\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\r\n\r\n  vec4 x = x_ *ns.x + ns.yyyy;\r\n  vec4 y = y_ *ns.x + ns.yyyy;\r\n  vec4 h = 1.0 - abs(x) - abs(y);\r\n\r\n  vec4 b0 = vec4( x.xy, y.xy );\r\n  vec4 b1 = vec4( x.zw, y.zw );\r\n\r\n\r\n  vec4 s0 = floor(b0)*2.0 + 1.0;\r\n  vec4 s1 = floor(b1)*2.0 + 1.0;\r\n  vec4 sh = -step(h, vec4(0.0));\r\n\r\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\r\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\r\n\r\n  vec3 p0 = vec3(a0.xy,h.x);\r\n  vec3 p1 = vec3(a0.zw,h.y);\r\n  vec3 p2 = vec3(a1.xy,h.z);\r\n  vec3 p3 = vec3(a1.zw,h.w);\r\n\r\n//Normalise gradients\r\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\r\n  p0 *= norm.x;\r\n  p1 *= norm.y;\r\n  p2 *= norm.z;\r\n  p3 *= norm.w;\r\n\r\n// Mix final noise value\r\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\r\n  m = m * m;\r\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \r\n                                dot(p2,x2), dot(p3,x3) ) );\r\n  }\r\n  \r\nvoid main() {\r\n\r\n  vec3 color = vec3(0.0);\r\n\r\n  float pct = abs(sin(u_time));\r\n\r\n  color = mix(colorA, colorB, pct); \r\n\r\n  gl_FragColor = vec4(color,0.1);\r\n\r\n  // float color = snoise(vec3(u_time/u_frequency/4.));\r\n\t// gl_FragColor = vec4(color/.5, color, color, 1.0);\r\n  \r\n}"},function(t,e){t.exports="uniform float u_time;\r\nuniform float u_frequency;\r\nuniform float u_resolution;\r\nuniform float u_enter_anim;\r\n\r\nvec3 mod289(vec3 x) {\r\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\r\n}\r\n\r\nvec4 mod289(vec4 x) {\r\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\r\n}\r\n\r\nvec4 permute(vec4 x) {\r\n     return mod289(((x*34.0)+1.0)*x);\r\n}\r\n\r\nvec4 taylorInvSqrt(vec4 r)\r\n{\r\n  return 1.79284291400159 - 0.85373472095314 * r;\r\n}\r\n\r\nfloat snoise(vec3 v)\r\n  { \r\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\r\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\r\n\r\n// First corner\r\n  vec3 i  = floor(v + dot(v, C.yyy) );\r\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\r\n\r\n// Other corners\r\n  vec3 g = step(x0.yzx, x0.xyz);\r\n  vec3 l = 1.0 - g;\r\n  vec3 i1 = min( g.xyz, l.zxy );\r\n  vec3 i2 = max( g.xyz, l.zxy );\r\n\r\n  vec3 x1 = x0 - i1 + C.xxx;\r\n  vec3 x2 = x0 - i2 + C.yyy;\r\n  vec3 x3 = x0 - D.yyy;\r\n\r\n// Permutations\r\n  i = mod289(i); \r\n  vec4 p = permute( permute( permute( \r\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\r\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \r\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\r\n  float n_ = 0.142857142857; // 1.0/7.0\r\n  vec3  ns = n_ * D.wyz - D.xzx;\r\n\r\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);\r\n\r\n  vec4 x_ = floor(j * ns.z);\r\n  vec4 y_ = floor(j - 7.0 * x_ ); \r\n\r\n  vec4 x = x_ *ns.x + ns.yyyy;\r\n  vec4 y = y_ *ns.x + ns.yyyy;\r\n  vec4 h = 1.0 - abs(x) - abs(y);\r\n\r\n  vec4 b0 = vec4( x.xy, y.xy );\r\n  vec4 b1 = vec4( x.zw, y.zw );\r\n\r\n\r\n  vec4 s0 = floor(b0)*2.0 + 1.0;\r\n  vec4 s1 = floor(b1)*2.0 + 1.0;\r\n  vec4 sh = -step(h, vec4(0.0));\r\n\r\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\r\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\r\n\r\n  vec3 p0 = vec3(a0.xy,h.x);\r\n  vec3 p1 = vec3(a0.zw,h.y);\r\n  vec3 p2 = vec3(a1.xy,h.z);\r\n  vec3 p3 = vec3(a1.zw,h.w);\r\n\r\n\r\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\r\n  p0 *= norm.x;\r\n  p1 *= norm.y;\r\n  p2 *= norm.z;\r\n  p3 *= norm.w;\r\n\r\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\r\n  m = m * m;\r\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \r\n                                dot(p2,x2), dot(p3,x3) ) );\r\n  }\r\n\r\n  vec3 snoiseVec3( vec3 x ){\r\n\r\n  float s  = snoise(vec3( x ));\r\n  float s1 = snoise(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));\r\n  float s2 = snoise(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));\r\n  vec3 c = vec3( s , s1 , s2 );\r\n  return c;\r\n\r\n}\r\n\r\n\r\nvec3 curlNoise( vec3 p ){\r\n  \r\n  const float e = .1;\r\n  vec3 dx = vec3( e   , 0.0 , 0.0 );\r\n  vec3 dy = vec3( 0.0 , e   , 0.0 );\r\n  vec3 dz = vec3( 0.0 , 0.0 , e   );\r\n\r\n  vec3 p_x0 = snoiseVec3( p - dx );\r\n  vec3 p_x1 = snoiseVec3( p + dx );\r\n  vec3 p_y0 = snoiseVec3( p - dy );\r\n  vec3 p_y1 = snoiseVec3( p + dy );\r\n  vec3 p_z0 = snoiseVec3( p - dz );\r\n  vec3 p_z1 = snoiseVec3( p + dz );\r\n\r\n  float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;\r\n  float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;\r\n  float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;\r\n\r\n  const float divisor = 1.0 / ( 2.0 * e );\r\n  return normalize( vec3( x , y , z ) * divisor );\r\n\r\n}\r\n\r\nvoid main() {\r\n    gl_PointSize = 1.7;\r\n\t  vec3 newPosition = position * (60.+u_frequency/2. + curlNoise(position+u_time/10.)*u_frequency/2.);\r\n    //vec3 newPosition = position * (60. + curlNoise(position+u_time/10.)* 15.);\r\n\r\n  \tgl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\r\n}\r\n"}],[3]);