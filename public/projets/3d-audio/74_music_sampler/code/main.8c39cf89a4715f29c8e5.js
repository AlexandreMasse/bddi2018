webpackJsonp([0],[,function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(5),o=i(a),c=n(3),u=i(c),l=n(6),h=i(l),d=n(7),f=i(d),m=n(8)(e),v=[],p=!0,y=!1,g=function(){function t(){s(this,t),this.createScene(),this.createEllipse(),this.renderer(),this.importAudio(),this.importControls(),y&&this.debug(),window.addEventListener("resize",this.onWindowResize.bind(this),!1)}return r(t,[{key:"createScene",value:function(){this.container=document.querySelector("#main"),document.body.appendChild(this.container),this.camera=new e.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.1,100),this.camera.position.z=30;var t=new m(this.camera,this.container);t.minDistance=20,t.maxDistance=30,t.enableDamping=!0,t.dampingFactor=.07,t.rotateSpeed=.07,this.scene=new e.Scene}},{key:"createEllipse",value:function(){this.groupEllipse=new e.Group,this.shapeSlider=document.getElementById("shape");for(var t=0;t<105;t++){var n=new o.default(0,0,10,10,0,2*Math.PI,!1,0,10,t,this.shapeSlider.value);v.push(n),this.groupEllipse.add(n.line)}this.scene.add(this.groupEllipse),this.changeShape()}},{key:"changeShape",value:function(){var e=this;this.shapeSlider.addEventListener("change",function(){for(var t=0;t<105;t++){v[t].changeShape(e.shapeSlider.value)}})}},{key:"renderer",value:function(){this.renderer=new e.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.renderer.animate(this.render.bind(this))}},{key:"render",value:function(){var e=this;this.groupEllipse.rotation.x+=.005*Math.cos(10),this.groupEllipse.rotation.y+=.01*Math.sin(10),this.midAverage=u.default.arrAverage(this.audio.getSpectrum())/200,v.forEach(function(t){t.update(e.midAverage)}),this.renderer.render(this.scene,this.camera)}},{key:"importAudio",value:function(){var e=this;this.audio=new h.default(f.default,null,null,function(){var t=document.getElementById("landing"),n=document.getElementById("loader"),i=document.getElementById("landingButton"),s=document.getElementById("controls");e.audio._load(f.default,function(){n.classList.add("hidden"),i.classList.remove("hidden"),i.addEventListener("click",function(){t.style.display="none",s.classList.remove("hidden"),e.audio.play()})})},y)}},{key:"importControls",value:function(){var e=this,t=document.getElementById("mute");t.addEventListener("click",function(){t.classList.toggle("visible")}),document.getElementById("mute").addEventListener("click",function(){p?(e.audio.volume=0,p=!1):(e.audio.volume=1,p=!0)});var n=document.getElementById("play-or-pause");n.addEventListener("click",function(){e.audio.isPlaying?(e.audio.pause(),n.src="./assets/img/play.svg"):(e.audio.play(),n.src="./assets/img/pause.svg")});var i=document.getElementById("fullScreen");i.addEventListener("click",function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),i.classList.toggle("visible")}),document.addEventListener("keydown",function(e){"input"!==e.target.nodeName.toLowerCase()&&"text"!==e.target.type&&(32===e.keyCode&&n.click(),70===e.keyCode&&i.click(),77===e.keyCode&&t.click())})}},{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"debug",value:function(){var t=new e.AxisHelper(20);this.scene.add(t)}}]),t}();t.default=g}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={arrAverage:function(e){return e.reduce(function(e,t){return e+t})/e.length}};t.default=i},function(e,t,n){"use strict";n(2);var i=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(i);window.app=new s.default},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(10),o=i(a),c=n(9),u=i(c),l=function(){function t(n,i,r,a,c,l,h,d,f,m,v){s(this,t),this.curve=new e.EllipseCurve(n,i,r,a,c,l,h,d);var p=new e.Path(this.curve.getPoints(100)),y=p.createPointsGeometry(100);this.material=new e.ShaderMaterial({uniforms:e.UniformsUtils.merge([e.UniformsLib.common,e.UniformsLib.specularmap,e.UniformsLib.envmap,e.UniformsLib.aomap,e.UniformsLib.lightmap,e.UniformsLib.fog,{diffuse:{value:new e.Color(13803684)},u_time:{value:1,type:"f"},shape:{value:v}}]),defines:{USE_ENVMAP:!0},vertexShader:o.default,fragmentShader:u.default}),this.line=new e.Line(y,this.material),this.line.rotation.x+=Math.cos(f)*m}return r(t,[{key:"update",value:function(e){this.material.uniforms.u_time.value=e}},{key:"changeShape",value:function(e){this.material.uniforms.shape.value=e,this.material.needsUpdate=!0}}]),t}();t.default=l}).call(t,n(0))},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,s,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i(this,e),this.ctx;try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.ctx=new AudioContext}catch(e){throw new Error("Web Audio API is not supported in this browser")}this._bpm=n,this._beatDuration=60/this._bpm,this._offsetTime=s,this._sections=[],this._kicks=[],this._beats=[],this._startTime=0,this._pauseTime=0,this._isPlaying=!1,this._isLoaded=!1,this._progress=0,this._onUpdate=this.onUpdate.bind(this),this._onEnded=this.onEnded.bind(this),this.gainNode=this.ctx.createGain(),this.gainNode.connect(this.ctx.destination),this.analyserNode=this.ctx.createAnalyser(),this.analyserNode.connect(this.gainNode),this.analyserNode.smoothingTimeConstant=.8,this.analyserNode.fftSize=512;var o=this.analyserNode.frequencyBinCount;this.frequencyDataArray=new Uint8Array(o),this.timeDomainDataArray=new Uint8Array(o),a&&(this.debug=new c(this)),this._load(t,r),window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame}return s(e,[{key:"_load",value:function(e,t){var n=this;if(e){this._isLoaded=!1,this._progress=0;var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onprogress=function(e){n._progress=e.loaded/e.total},i.onload=function(){n.ctx.decodeAudioData(i.response,function(e){n._buffer=e,n._isLoaded=!0,t&&t()},function(e){console.log(e)})},i.send()}}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.req&&cancelAnimationFrame(this.req),this._onUpdate(),this._isPlaying=!0;var t=this._pauseTime-this._startTime+e;this._startTime=this.ctx.currentTime-t,this.sourceNode=this.ctx.createBufferSource(),this.sourceNode.connect(this.analyserNode),this.sourceNode.buffer=this._buffer,this.sourceNode.start(0,t),this.sourceNode.addEventListener("ended",this._onEnded,!1)}},{key:"pause",value:function(){this.req&&cancelAnimationFrame(this.req),this.sourceNode&&(this.sourceNode.removeEventListener("ended",this._onEnded,!1),this.sourceNode.stop(0),this.sourceNode.disconnect(),this.sourceNode=null),this._pauseTime=this.ctx.currentTime,this._isPlaying=!1}},{key:"before",value:function(e,t,n){var i=this;return this._sections.push({label:e,condition:function(){return i.time<t},callback:n}),this}},{key:"after",value:function(e,t,n){var i=this;return this._sections.push({label:e,condition:function(){return i.time>t},callback:n}),this}},{key:"between",value:function(e,t,n,i){var s=this;return this._sections.push({label:e,condition:function(){return s.time>t&&s.time<n},callback:i}),this}},{key:"onceAt",value:function(e,t,n){var i=this,s=null;return this._sections.push({label:e,condition:function(){return i.time>t&&!this.called},callback:function(){console.log("once :",s.label),n.call(this),s.called=!0},called:!1}),s=this._sections[this._sections.length-1],this}},{key:"getSpectrum",value:function(){return this.analyserNode.getByteFrequencyData(this.frequencyDataArray),this.frequencyDataArray}},{key:"getWaveform",value:function(){return this.analyserNode.getByteTimeDomainData(this.timeDomainDataArray),this.timeDomainDataArray}},{key:"getFrequency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0,i=this.getSpectrum();if(void 0!==t){for(var s=e;s<=t;s++)n+=i[s];return n/(t-e+1)}return i[e]}},{key:"createKick",value:function(e){var t=e.frequency,n=e.threshold,i=e.decay,s=e.onKick,r=e.offKick,o=new a({frequency:t,threshold:n,decay:i,onKick:s,offKick:r});return this._kicks.push(o),o}},{key:"createBeat",value:function(e){var t=e.factor,n=e.onBeat,i=new o({factor:t,onBeat:n});return this._beats.push(i),i}},{key:"onUpdate",value:function(){this.req=requestAnimationFrame(this._onUpdate);for(var e in this._sections)this._sections[e].condition()&&this._sections[e].callback.call(this);var t=this.getSpectrum();for(var n in this._kicks)this._kicks[n].calc(t);var i=Math.max(0,this.time-this._offsetTime);for(var s in this._beats)this._beats[s].calc(i,this._beatDuration);this.debug&&this.debug.draw()}},{key:"onEnded",value:function(){this.stop()}},{key:"progress",get:function(){return this._progress}},{key:"isLoaded",get:function(){return this._isLoaded}},{key:"duration",get:function(){return this._isLoaded?this._buffer.duration:0}},{key:"time",get:function(){return this.isPlaying?this.ctx.currentTime-this._startTime:this._pauseTime-this._startTime}},{key:"volume",set:function(e){this.gainNode.gain.value=e},get:function(){return this.gainNode.gain.value}},{key:"isPlaying",get:function(){return this._isPlaying}},{key:"beatDuration",get:function(){return this._beatDuration}}]),e}();t.default=r;var a=function(){function e(t){var n=t.frequency,s=t.threshold,r=t.decay,a=t.onKick,o=t.offKick;i(this,e),this.frequency=void 0!==n?n:[0,10],this.threshold=void 0!==s?s:.3,this.decay=void 0!==r?r:.02,this.onKick=a,this.offKick=o,this.isOn=!1,this.isKick=!1,this.currentThreshold=this.threshold}return s(e,[{key:"on",value:function(){this.isOn=!0}},{key:"off",value:function(){this.isOn=!1}},{key:"set",value:function(e){var t=e.frequency,n=e.threshold,i=e.decay,s=e.onKick,r=e.offKick;this.frequency=void 0!==t?t:this.frequency,this.threshold=void 0!==n?n:this.threshold,this.decay=void 0!==i?i:this.decay,this.onKick=s||this.onKick,this.offKick=r||this.offKick}},{key:"calc",value:function(e){if(this.isOn){var t=this.maxAmplitude(e,this.frequency);t>=this.currentThreshold&&t>=this.threshold?(this.currentThreshold=t,this.onKick&&this.onKick(t),this.isKick=!0):(this.offKick&&this.offKick(t),this.currentThreshold-=this.decay,this.isKick=!1)}}},{key:"maxAmplitude",value:function(e,t){var n=0;if(!t.length)return t<e.length?e[~~t]:null;for(var i=t[0],s=t[1];i<=s;i++)e[i]>n&&(n=e[i]);return n}}]),e}(),o=function(){function e(t){var n=t.factor,s=t.onBeat;i(this,e),this.factor=void 0!==n?n:1,this.onBeat=s,this.isOn=!1,this.currentTime=0}return s(e,[{key:"on",value:function(){this.isOn=!0}},{key:"off",value:function(){this.isOn=!1}},{key:"set",value:function(e){var t=e.factor,n=e.onBeat;this.factor=void 0!==t?t:this.factor,this.onBeat=n||this.onBeat}},{key:"calc",value:function(e,t){if(0!=e){var n=t*this.factor;e>=this.currentTime+n&&(this.isOn&&this.onBeat&&this.onBeat(),this.currentTime+=n)}}}]),e}(),c=function(){function e(t){i(this,e),this.sound=t,this.canvas=document.createElement("canvas"),this.canvas.width=512,this.canvas.height=300,this.canvas.style.position="absolute",this.canvas.style.bottom=0,this.canvas.style.left=0,this.canvas.style.zIndex=3,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),window.addEventListener("resize",this.resize.bind(this),!1),this.resize()}return s(e,[{key:"resize",value:function(){this.canvas.width=window.innerWidth}},{key:"draw",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#000000",this.ctx.fill(),this.ctx.strokeStyle="#a1a1a1",this.ctx.stroke(),this.ctx.beginPath();for(var e=this.sound.getSpectrum(),t=null,n=e.length,i=this.canvas.width/n,s=this.canvas.height-10,r=0;r<n;r++)t=e[r]/256,this.ctx.rect(r*i,s-s*t,i/2,s*t);this.ctx.fillStyle="#ffffff",this.ctx.fill(),this.ctx.beginPath(),this.ctx.font="10px Arial",this.ctx.textBaseline="middle",this.ctx.textAlign="left";for(var a=0,o=n;a<o;a++)a%10==0&&(this.ctx.rect(a*i,s,i/2,10),this.ctx.fillText(a,a*i+4,s+5));this.ctx.fillStyle="#ffffff",this.ctx.fill();for(var c=this.sound._kicks,u=null,l=c.length,h=null,d=null,f=0,m=l;f<m;f++)u=c[f],u.isOn&&(h=u.frequency.length?u.frequency[0]:u.frequency,d=u.frequency.length?u.frequency[1]-u.frequency[0]+1:1,this.ctx.beginPath(),this.ctx.rect(h*i,s-s*(u.threshold/256),d*i-.5*i,2),this.ctx.rect(h*i,s-s*(u.currentThreshold/256),d*i-.5*i,5),this.ctx.fillStyle=u.isKick?"#00ff00":"#ff0000",this.ctx.fill());this.ctx.beginPath();for(var v=this.sound.getWaveform(),p=null,y=v.length,g=this.canvas.width/y,x=this.canvas.height-10,_=0;_<y;_++)p=v[_]/256,0==_?this.ctx.moveTo(_*g,x*p):this.ctx.lineTo(_*g,x*p);this.ctx.strokeStyle="#0000ff",this.ctx.stroke(),this.ctx.beginPath(),this.ctx.textAlign="right",this.ctx.textBaseline="top",this.ctx.font="15px Arial",this.ctx.fillStyle="#ffffff",this.ctx.fillText(Math.round(10*this.sound.time)/10+" / "+Math.round(10*this.sound.duration)/10,this.canvas.width-5,5),this.ctx.beginPath();for(var w=this.sound._sections,b=null,k=w.length,E="",A=0,L=k;A<L;A++)b=w[A],b.condition()&&(E+=b.label+" - ");E.length>0&&(E=E.substr(0,E.length-3)),this.ctx.fillText(E,this.canvas.width-5,25),this.ctx.fill()}}]),e}()},function(e,t,n){e.exports=n.p+"assets/sounds/music.cbeacd5e0ebb3e27836b01bb2b9ccdee.mp3"},,function(e,t){e.exports="uniform vec3 diffuse;\nuniform float opacity;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\n\t// accumulation (baked indirect lighting only)\n\t#ifdef USE_LIGHTMAP\n\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\n\t#endif\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}"},function(e,t){e.exports="uniform float u_time;\nuniform float shape;\n\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_ENVMAP\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\n\ttransformed.xy += (snoise(u_time + transformed * shape) * 3.);\n\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n\n}"}],[4]);