webpackJsonp([2,0],[function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=n(21),o=s(i),r=n(25),a=s(r),u=n(75),d=s(u),c=n(10),l=s(c);o.default.use(a.default),o.default.use(l.default,{api:"http://bddi-chat2017.herokuapp.com"}),new o.default({render:function(t){return t(d.default)}}).$mount("#app")},,,,,,,,,function(t,e,n){"use strict";var s=n(73);s.styles.pop(),s.styles.push("display:none");var i=new s;document.body?i.elem=i.render(document.body):document.addEventListener("DOMContentLoaded",function(){i.elem=i.render(document.body)},!1),t.exports=i},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.store=void 0;var i=n(67),o=s(i),r=n(21),a=s(r),u=e.store=new a.default({data:{user:{},users:[],messages:[],usertyping:[]}});e.default={install:function(t,e){var n=(0,o.default)(e.api);t.prototype.$store=u,n.on("getUsers",function(t){u.users=t}),n.on("user connected",function(t){u.user=t}),n.on("user joined",function(t){u.users.push(t.new)}),n.on("new message",function(t){u.messages.push(t)}),n.on("user left",function(t){u.users=u.users.filter(function(e){return e.id!==t})}),t.mixin({methods:{connect:function(t){n.emit("user connected",{username:t})},sendMessage:function(t){n.emit("new message",t)}}})}}},,,,,,,,,,,,,,,function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(76),o=s(i),r=n(26),a=s(r);e.default={install:function(t,e){t.use(a.default),t.component("icon",o.default)}}},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(93),o=s(i),r=n(27),a=s(r),u=n(10);e.default={router:null,install:function(t){var e=new o.default({routes:a.default,mode:"history"});e.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.auth})&&null==u.store.user.id?n({path:"/login"}):n()}),t.mixin({beforeCreate:function(){this.$root===this&&(this.$options.router=e)}}),t.use(o.default)}}},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(82),o=s(i),r=n(83),a=s(r);e.default=[{path:"/",component:o.default,meta:{auth:!0}},{path:"/login",component:a.default}]},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(81),o=s(i);e.default={data:function(){return{isChat:!1,isActive:!1}},components:{UserList:o.default},methods:{onLogin:function(t){this.connect(t)},changeToggable:function(t){t?this.isChat=!0:this.isChat=!1},onToggle:function(){this.isChat===!0&&(this.isActive?this.isActive=!1:this.isActive=!0)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["name"],computed:{xlink:function(){return n(95)("./"+this.name+".svg")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["data"],data:function(){return{colors:["blueDiv","redDiv","yellowDiv","whiteDiv","whiteDiv","whiteDiv"],widthClass:["twentyfive","fifty"]}},computed:{randomColor:function(){var t=Math.floor(6*Math.random());return this.colors[t]},formatData:function(){return this.data.body.match(/!/)&&this.data.body.length<50||this.data.body.length<=20?"title":"text"},randomWidth:function(){if(this.data.body.length>400||!this.data.body.match(/^\s+$/)&&this.data.body.length>100)return"hundred";var t=Math.floor(2*Math.random());return this.widthClass[t]},getDate:function(){var t=new Date(this.data.createdAt).toLocaleString();return t}},mounted:function(){this.$nextTick(function(){var t=document.getElementById("messageList");t.scrollTop=t.scrollHeight})}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{message:"",usertyping:{}}},methods:{onSubmit:function(t){this.sendMessage(this.message),this.message=""},returnUsersTyping:function(){if(console.log(this.$store.usertyping.length),this.$store.usertyping.length>0)return this.usertyping=this.$store.usertyping,1===this.$store.usertyping.length?this.$store.usertyping[0].name:this.$store.usertyping.length>3?[this.$store.usertyping[0].name,this.$store.usertyping[1].name,this.$store.usertyping[2].name].toString()+" et "+(this.$store.usertyping.length-3).toString():[this.$store.usertyping[0].name,this.$store.usertyping[1].name,this.$store.usertyping[2].name].toString()}}}},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(77),o=s(i);e.default={props:["messages"],data:function(){return{lineWidth:100,possibleWidth:[20,40,60,80]}},components:{Message:o.default},computed:{currentWidth:function(){var t=void 0;return 0===(void 0).lineWidth&&((void 0).lineWidth=100),(void 0).lineWidth>=80?t=Math.round(3*Math.random()):(void 0).lineWidth>=60?t=Math.round(2*Math.random()):(void 0).lineWidth>=40?t=Math.round(Math.random()):(void 0).lineWidth>=20&&(t=0),(void 0).lineWidth-=(void 0).possibleWidth[t],(void 0).possibleWidth[t]}},methods:{}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["data"]}},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(80),o=s(i);e.default={props:["users"],components:{User:o.default}}},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(79),o=s(i),r=n(78),a=s(r);e.default={props:["store"],components:{MessageList:o.default,MessageForm:a.default},mounted:function(){this.$emit("toggle",!0)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["store"],data:function(){return{error:!1,username:""}},methods:{onSubmit:function(t){this.username.match(/^\w{1,15}$/)?(this.error=!1,this.$emit("login",this.username)):this.error=!0}},created:function(){var t=this;this.$store.$watch("user",function(e){e.id&&t.$router.push("/")})},mounted:function(){this.$emit("toggle",!1)}}},,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,function(t,e,n){var s=n(9),i='<symbol viewBox="0 0 64 64" id="list_user_db818e6099ba398d25a1fccd74bf4d89" xmlns:xlink="http://www.w3.org/1999/xlink"> <!-- Generator: Sketch 45.2 (43514) - http://www.bohemiancoding.com/sketch --> <title>Icon</title> <desc>Created with Sketch.</desc> <defs/> <g id="list_user_db818e6099ba398d25a1fccd74bf4d89_Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"> <g id="list_user_db818e6099ba398d25a1fccd74bf4d89_Icon" stroke-width="8"> <g id="list_user_db818e6099ba398d25a1fccd74bf4d89_Group" transform="translate(14.000000, 14.000000)"> <path d="M-7.10542736e-15,4 L36,4" id="list_user_db818e6099ba398d25a1fccd74bf4d89_Line-4" stroke="#D0021B"/> <path d="M-7.10542736e-15,20 L27,20" id="list_user_db818e6099ba398d25a1fccd74bf4d89_Line-4-Copy" stroke="#4A90E2"/> <path d="M-7.10542736e-15,36 L18,36" id="list_user_db818e6099ba398d25a1fccd74bf4d89_Line-4-Copy-2" stroke="#F8E71C"/> </g> </g> </g> </symbol>';t.exports=s.add(i,"list_user_db818e6099ba398d25a1fccd74bf4d89")},function(t,e,n){var s=n(9),i='<symbol viewBox="126 75 246 350" id="logo_683b63348aa49310c18b6121b5ce7351" xmlns:xlink="http://www.w3.org/1999/xlink"> <defs/> <g id="logo_683b63348aa49310c18b6121b5ce7351_logo" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(126.000000, 75.000000)"> <g id="logo_683b63348aa49310c18b6121b5ce7351_Group"> <path d="M182.4,68.6 C168.8,75.3 150.6,87.9 134.1,111.3 C127.3,106.6 122.6,104.3 121.9,103.9 C119.3,102.6 116.3,102.5 113.6,103.6 C112.9,103.9 108.4,105.7 101.8,109.6 C88.7,87.8 75.3,74.4 59.9,62.9 C76.2,28.7 107.3,7.2 119.1,0 C132,7.6 168.1,31.4 182.4,68.6 Z" id="logo_683b63348aa49310c18b6121b5ce7351_Shape" fill="#359168"/> <path d="M229.1,158.1 C227.6,158.7 226.1,159.3 224.6,159.9 C212.1,165.2 197.1,173.6 182.6,187.2 C173.4,148.7 151.6,123.6 133.3,108.5 C152,78.2 174,67.5 182.9,64.3 C194,72.9 226.4,102.6 229.1,158.1 L229.1,158.1 Z" id="logo_683b63348aa49310c18b6121b5ce7351_Shape" fill="#3AA572"/> <path d="M61.1,55.7 C63.9,56.5 67.2,56.7 74.1,60.5 C81,64.3 100.6,82.7 112.8,102.8 C95.3,117.3 74.7,141.4 65.9,178.7 C51.5,166.1 36.9,158.2 24.7,153.3 C21.8,152.1 19,151.1 16.3,150.2 C18.1,94.3 50.4,64.2 61.1,55.7 L61.1,55.7 Z" id="logo_683b63348aa49310c18b6121b5ce7351_Shape" fill="#3AA572"/> <path d="M85.2,214.2 C78.1,201 70.4,190.1 62.2,180.9 C62.3,180.2 62.3,179.6 62.3,179 C68.2,121.4 106.8,94.5 119.7,87.1 C133.3,94.3 184.2,126.1 184.2,177.8 C184.3,181 184.3,183.3 184.3,183.3 C176.9,192.8 171.3,202.3 165.3,215.5 C160.1,226.7 156.3,238.2 153.7,249.7 C140.5,241.6 130.5,237.3 129.5,236.9 C126.8,235.7 123.6,235.8 121,237.2 C120,237.6 111.1,242 99.3,250.1 C96.4,237.8 92.2,227.3 85.2,214.2 Z" id="logo_683b63348aa49310c18b6121b5ce7351_Shape" fill="#33996C"/> <path d="M113.1,303.1 C117.6,300.4 122,297.6 126.3,294.7 C131.1,297.8 135.9,300.7 140.9,303.4 C138.7,303.5 136.6,303.7 134.4,303.8 C134.8,314.9 133.6,329 128.2,344.7 C127.1,347.8 124.3,349.7 121.2,349.7 C120.4,349.7 119.6,349.6 118.8,349.3 C114.9,348 112.9,343.8 114.2,339.9 C119,325.8 120,313.3 119.6,303.6 C117.4,303.5 115.3,303.3 113.1,303.1 L113.1,303.1 Z" id="logo_683b63348aa49310c18b6121b5ce7351_Shape" fill="#35495E"/> <path d="M236.9,227.4 C220.8,229.1 194.8,233.7 168.6,245.7 C161.5,235.7 152.5,227.3 143.9,220.7 C145.4,211.1 148.3,201.8 152.6,192.3 C163.7,168.1 180.5,151 202.4,141.6 C214,136.6 224.1,135.2 229.2,134.7 C236.3,144.5 257.4,179.5 236.9,227.4 L236.9,227.4 Z" id="logo_683b63348aa49310c18b6121b5ce7351_Shape" fill="#41B883"/> <path d="M3.1,161.3 C6.1,149 11.1,140.1 13.8,135.8 C18.9,135.9 29,136.8 40.9,141 C63.4,149.1 81.2,165.1 93.7,188.6 C100.3,200.9 102.5,208.8 104.1,218.3 C95.6,225.6 86.7,234.7 79.9,245.6 C54.4,235.8 29.4,232.6 13.2,231.7 L13.2,231.7 C0.8,208.2 -2.7,184.5 3.1,161.3 L3.1,161.3 Z" id="logo_683b63348aa49310c18b6121b5ce7351_Shape" fill="#41B883"/> <path d="M119.3,319.6 C78.2,318.7 47.5,302.4 28.1,271 C17.8,254.3 13.4,237.3 11.7,228.1 C23.9,228.3 50.4,230.1 76.4,241.3 C79.5,242.6 83,241.4 84.6,238.4 C95,218.4 116.8,204.8 124.3,200.5 C132.1,204.3 154.6,216.5 166.2,235.9 C167.9,238.8 171.6,239.8 174.5,238.3 C199.7,225.7 226,222.2 238.3,221.2 C237.1,230.6 233.6,248.5 223.9,266.2 C205.8,299.1 172.5,317.8 129.9,320.2" id="logo_683b63348aa49310c18b6121b5ce7351_Shape" fill="#35495E"/> </g> </g> </symbol>';t.exports=s.add(i,"logo_683b63348aa49310c18b6121b5ce7351")},,,function(t,e,n){var s,i;n(51),s=n(28);var o=n(84);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e,n){var s,i;n(57),s=n(29);var o=n(90);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e,n){var s,i;n(55),s=n(30);var o=n(88);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-4ffa0894",t.exports=s},function(t,e,n){var s,i;n(53),s=n(31);var o=n(86);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-284bab9a",t.exports=s},function(t,e,n){var s,i;n(56),s=n(32);var o=n(89);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e,n){var s,i;n(54),s=n(33);var o=n(87);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e,n){var s,i;n(59),s=n(34);var o=n(92);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e,n){var s,i;n(52),s=n(35);var o=n(85);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e,n){var s,i;n(58),s=n(36);var o=n(91);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"appMin",class:{blueDiv:!t.isChat}}),t._v(" "),n("div",{staticClass:"appMax"}),t._v(" "),n("div",{staticClass:"appMin",class:{blueDiv:t.isChat}})]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"appMin appMiddle",class:[{active:t.isActive},{blackDiv:t.isChat}],on:{click:t.onToggle}},[n("transition",{attrs:{name:"fade"}},[!t.isActive&&t.isChat?n("svg",{attrs:{id:"imgToggle",width:"64px",height:"64px",viewBox:"0 0 64 64",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("title",[t._v("Icon")]),t._v(" "),n("desc",[t._v("Created with Sketch.")]),t._v(" "),n("defs"),t._v(" "),n("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","stroke-linecap":"square"}},[n("g",{attrs:{id:"Icon","stroke-width":"8"}},[n("g",{attrs:{id:"Group",transform:"translate(14.000000, 14.000000)"}},[n("path",{attrs:{d:"M-7.10542736e-15,4 L36,4",id:"barre1",stroke:"#D0021B"}}),t._v(" "),n("path",{attrs:{d:"M-7.10542736e-15,20 L27,20",id:"barre2",stroke:"#4A90E2"}}),t._v(" "),n("path",{attrs:{d:"M-7.10542736e-15,36 L18,36",id:"barre3",stroke:"#F8E71C"}})])])])]):t._e()]),t._v(" "),t.isActive?n("user-list",{attrs:{users:t.$store.users}}):t._e()],1),t._v(" "),n("div",{staticClass:"appMax appMiddle"},[n("router-view",{attrs:{store:t.$store},on:{login:t.onLogin,toggle:t.changeToggable}})],1),t._v(" "),n("div",{staticClass:"appMin appMiddle",class:{blueDiv:!t.isChat}})]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"appMin"}),t._v(" "),n("div",{staticClass:"appMax"}),t._v(" "),n("div",{staticClass:"appMin"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"chat"}},[n("message-list",{attrs:{messages:t.store.messages}}),t._v(" "),n("message-form")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"messageForm"}},[n("form",{on:{submit:function(e){e.preventDefault(),t.onSubmit(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"text",attrs:{type:"text",placeholder:"...Type something"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),n("button",{staticClass:"blackDiv",attrs:{type:"submit"}},[t._v("SEND")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"userListItem text"},[t._v(t._s(t.data.username))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.randomColor,t.randomWidth]},[n("article",[n("span",{staticClass:"nom-block"},[t._v(t._s(t.data.author.username)+":")]),t._v(" "),n("br"),t._v(" "),n("span",{class:t.formatData},[t._v(t._s(t.data.body))]),t._v(" "),n("div",{staticClass:"fixedBottom text"},[t._v(t._s(t.getDate))])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"messageList"}},t._l(t.messages,function(e){return n("message",{attrs:{data:e,currentWidth:t.width}})}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"icon",class:"icon-"+t.name},[n("use",{attrs:{"xlink:href":t.xlink}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{id:"loginForm"},on:{submit:function(e){e.preventDefault(),t.onSubmit(e)}}},[n("main",{attrs:{id:"mainLogin"}},[n("div",{staticClass:"redDiv title"},[t._v("ESSENTIEL CHAT")]),t._v(" "),n("div",{staticClass:"yellowDiv"}),t._v(" "),n("div",[n("p",{staticClass:"loginText",staticStyle:{"font-weight":"bold"}},[t._v("Bonjour")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"loginText",attrs:{type:"text",placeholder:"...frappe ton nom ici"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),t.error?n("p",{staticClass:"error"},[t._v("The username is unvalid")]):t._e()]),t._v(" "),n("div")]),t._v(" "),n("div"),t._v(" "),n("button",{staticClass:"blackDiv",attrs:{id:"loginSubmit",type:"submit"}},[t._v("LOG IN")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{attrs:{id:"userList"}},t._l(t.users,function(t){return n("user",{attrs:{data:t}})}))},staticRenderFns:[]}},,,function(t,e,n){function s(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./list_user.svg":71,"./logo.svg":72};s.keys=function(){return Object.keys(o)},s.resolve=i,t.exports=s,s.id=95},function(t,e){}]);
//# sourceMappingURL=app.a8aaf22f4f6a509a8b6c.js.map