webpackJsonp([0],{"1/3n":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page page-home"},[n("users-list",{attrs:{users:e.state.users}}),e._v(" "),n("chat",{attrs:{user:e.state.user,messages:e.chatState.messages}}),e._v(" "),n("chat-menu")],1)},a=[],i={render:s,staticRenderFns:a};t.a=i},"2PtA":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"blob-size-switcher"},[n("span",{staticClass:"information"},[e._v("Taille du message")]),e._v(" "),n("div",{staticClass:"blob-size-box"},[n("svg",{staticClass:"action icon small",class:{active:"small"===e.chatState.messageSize},staticStyle:{"enable-background":"new 0 0 400 400"},attrs:{fill:"currentColor",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 400 400","xml:space":"preserve"},on:{click:function(t){e.setFontSize("small")}}},[n("path",{attrs:{d:"M364.3,207.5c-0.7-4.2-2-8.3-3.3-12.4c-2.3-7.1-5.9-15-9.3-21.7c-1-2.1-2.2-4.1-3.5-6l0,0c-3.2-4.8-5.3-10.2-6.2-15.8\n\tc-0.2-1.4-0.5-2.8-0.7-4.1c-0.6-3.5-2-9-3.2-12.3c-2.6-7.3-5.8-14.4-9.2-21.3c-1.6-3.2-4.7-8.1-6.7-11.1\n\tc-6.2-9.3-13.4-17.8-20.5-26.2c-3.8-4.5-7.9-8.8-12.3-12.7c-15.1-13.6-28.8-21.3-48.6-28.2c-6-2.1-10.3-2.7-17-3.6\n\tc-0.6-0.1-3.4-0.5-5.9-0.7c-8.5-0.9-14.2-0.5-22.6,0.7c-1.2,0.2-3.7,0.4-4.9,0.6c-4.9,0.5-8.5,1.1-13.4,2c-19,4-37.2,11.3-54.6,19.6\n\tC107.1,61.4,92.4,71.8,80.7,84c-2.2,2.3-4.2,4.7-6.1,7.1c-6,7.5-12.2,15-17.5,23c-6.9,10.4-11.3,23.4-15.9,34.5\n\tc-6,14.7-8.2,31.3-9.2,47c-0.4,6.3-0.1,12.6,0.4,18.9c1,11.3,2.3,25,6.1,36.3c4.1,12.2,8.9,25.3,16.1,36.3\n\tc13.1,20,24.1,31,43.6,44.4c18.8,12.9,39,16.8,60.2,19.7c3.4,0.5,7.3,2,9.4,3c5.7,2.7,10.3,4.8,16.2,7.1c5.3,2,10.9,3.5,16.5,4.4\n\tc9.4,1.6,22.5,4.1,33,3.5c5.4-0.3,11.1-1.3,16.3-2c5.3-0.7,11.5-1.2,17-2.4c10.2-2.2,20.2-6.7,29.4-11.3c4.3-2.1,8.4-4.5,12.2-7.3\n\tc5.7-4.1,11.6-8.4,16.9-13.1c2.9-2.6,5.5-5.1,7.9-7.8c5.4-6.1,10.7-13.1,15.1-19.7c0.7-1.1,2.1-3.4,2.7-4.5\n\tc2.5-4.7,4.2-8.9,6.2-13.6c2-4.7,4.1-9.9,5.6-15.1c0.4-1.4,1.5-5.7,1.7-7.1c1.7-8.9,2.7-16.2,3.4-25.3\n\tC368.8,229.4,365.8,216.8,364.3,207.5z"}})]),e._v(" "),n("svg",{staticClass:"action icon medium",class:{active:"medium"===e.chatState.messageSize},staticStyle:{"enable-background":"new 0 0 400 400"},attrs:{fill:"currentColor",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 400 400","xml:space":"preserve"},on:{click:function(t){e.setFontSize("medium")}}},[n("path",{attrs:{d:"M364.3,207.5c-0.7-4.2-2-8.3-3.3-12.4c-2.3-7.1-5.9-15-9.3-21.7c-1-2.1-2.2-4.1-3.5-6l0,0c-3.2-4.8-5.3-10.2-6.2-15.8\n\tc-0.2-1.4-0.5-2.8-0.7-4.1c-0.6-3.5-2-9-3.2-12.3c-2.6-7.3-5.8-14.4-9.2-21.3c-1.6-3.2-4.7-8.1-6.7-11.1\n\tc-6.2-9.3-13.4-17.8-20.5-26.2c-3.8-4.5-7.9-8.8-12.3-12.7c-15.1-13.6-28.8-21.3-48.6-28.2c-6-2.1-10.3-2.7-17-3.6\n\tc-0.6-0.1-3.4-0.5-5.9-0.7c-8.5-0.9-14.2-0.5-22.6,0.7c-1.2,0.2-3.7,0.4-4.9,0.6c-4.9,0.5-8.5,1.1-13.4,2c-19,4-37.2,11.3-54.6,19.6\n\tC107.1,61.4,92.4,71.8,80.7,84c-2.2,2.3-4.2,4.7-6.1,7.1c-6,7.5-12.2,15-17.5,23c-6.9,10.4-11.3,23.4-15.9,34.5\n\tc-6,14.7-8.2,31.3-9.2,47c-0.4,6.3-0.1,12.6,0.4,18.9c1,11.3,2.3,25,6.1,36.3c4.1,12.2,8.9,25.3,16.1,36.3\n\tc13.1,20,24.1,31,43.6,44.4c18.8,12.9,39,16.8,60.2,19.7c3.4,0.5,7.3,2,9.4,3c5.7,2.7,10.3,4.8,16.2,7.1c5.3,2,10.9,3.5,16.5,4.4\n\tc9.4,1.6,22.5,4.1,33,3.5c5.4-0.3,11.1-1.3,16.3-2c5.3-0.7,11.5-1.2,17-2.4c10.2-2.2,20.2-6.7,29.4-11.3c4.3-2.1,8.4-4.5,12.2-7.3\n\tc5.7-4.1,11.6-8.4,16.9-13.1c2.9-2.6,5.5-5.1,7.9-7.8c5.4-6.1,10.7-13.1,15.1-19.7c0.7-1.1,2.1-3.4,2.7-4.5\n\tc2.5-4.7,4.2-8.9,6.2-13.6c2-4.7,4.1-9.9,5.6-15.1c0.4-1.4,1.5-5.7,1.7-7.1c1.7-8.9,2.7-16.2,3.4-25.3\n\tC368.8,229.4,365.8,216.8,364.3,207.5z"}})]),e._v(" "),n("svg",{staticClass:"action icon large",class:{active:"large"===e.chatState.messageSize},staticStyle:{"enable-background":"new 0 0 400 400"},attrs:{fill:"currentColor",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 400 400","xml:space":"preserve"},on:{click:function(t){e.setFontSize("large")}}},[n("path",{attrs:{d:"M364.3,207.5c-0.7-4.2-2-8.3-3.3-12.4c-2.3-7.1-5.9-15-9.3-21.7c-1-2.1-2.2-4.1-3.5-6l0,0c-3.2-4.8-5.3-10.2-6.2-15.8\n\tc-0.2-1.4-0.5-2.8-0.7-4.1c-0.6-3.5-2-9-3.2-12.3c-2.6-7.3-5.8-14.4-9.2-21.3c-1.6-3.2-4.7-8.1-6.7-11.1\n\tc-6.2-9.3-13.4-17.8-20.5-26.2c-3.8-4.5-7.9-8.8-12.3-12.7c-15.1-13.6-28.8-21.3-48.6-28.2c-6-2.1-10.3-2.7-17-3.6\n\tc-0.6-0.1-3.4-0.5-5.9-0.7c-8.5-0.9-14.2-0.5-22.6,0.7c-1.2,0.2-3.7,0.4-4.9,0.6c-4.9,0.5-8.5,1.1-13.4,2c-19,4-37.2,11.3-54.6,19.6\n\tC107.1,61.4,92.4,71.8,80.7,84c-2.2,2.3-4.2,4.7-6.1,7.1c-6,7.5-12.2,15-17.5,23c-6.9,10.4-11.3,23.4-15.9,34.5\n\tc-6,14.7-8.2,31.3-9.2,47c-0.4,6.3-0.1,12.6,0.4,18.9c1,11.3,2.3,25,6.1,36.3c4.1,12.2,8.9,25.3,16.1,36.3\n\tc13.1,20,24.1,31,43.6,44.4c18.8,12.9,39,16.8,60.2,19.7c3.4,0.5,7.3,2,9.4,3c5.7,2.7,10.3,4.8,16.2,7.1c5.3,2,10.9,3.5,16.5,4.4\n\tc9.4,1.6,22.5,4.1,33,3.5c5.4-0.3,11.1-1.3,16.3-2c5.3-0.7,11.5-1.2,17-2.4c10.2-2.2,20.2-6.7,29.4-11.3c4.3-2.1,8.4-4.5,12.2-7.3\n\tc5.7-4.1,11.6-8.4,16.9-13.1c2.9-2.6,5.5-5.1,7.9-7.8c5.4-6.1,10.7-13.1,15.1-19.7c0.7-1.1,2.1-3.4,2.7-4.5\n\tc2.5-4.7,4.2-8.9,6.2-13.6c2-4.7,4.1-9.9,5.6-15.1c0.4-1.4,1.5-5.7,1.7-7.1c1.7-8.9,2.7-16.2,3.4-25.3\n\tC368.8,229.4,365.8,216.8,364.3,207.5z"}})])])])},a=[],i={render:s,staticRenderFns:a};t.a=i},"3jL2":function(e,t,n){"use strict";function s(e){n("lL7h")}var a=n("Ajl1"),i=n("aPLq"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},"4AMx":function(e,t,n){"use strict";function s(e){n("8eVV")}var a=n("qBEU"),i=n("2PtA"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},"6txZ":function(e,t){},"8EOI":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"blob-banner"},e._l(e.blobs,function(t){return n("blob",{key:t,style:e.style(),attrs:{color:e.randomColor(),size:e.size()}})}))},a=[],i={render:s,staticRenderFns:a};t.a=i},"8eVV":function(e,t){},"9OvZ":function(e,t,n){"use strict";function s(e){n("MitS")}var a=n("cI/E"),i=n("GYTG"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},"9p4J":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toggle"},[n("label",{staticClass:"switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{__c:function(t){var n=e.checked,s=t.target,a=!!s.checked;if(Array.isArray(n)){var i=e._i(n,null);s.checked?i<0&&(e.checked=n.concat([null])):i>-1&&(e.checked=n.slice(0,i).concat(n.slice(i+1)))}else e.checked=a}}}),e._v(" "),n("span",{staticClass:"slider"})])])},a=[],i={render:s,staticRenderFns:a};t.a=i},"9z39":function(e,t,n){"use strict";var s=n("zhGu"),a=n("yVnd"),i=n("NHnr"),o=n("A5qe"),r=(n.n(o),n("f0RE"));t.a={components:{ChatMessage:r.a,ChatForm:s.a},name:"Chat",data:function(){return{state:a.a.state}},props:{messages:{type:Array,required:!0}},mounted:function(){var e=this;console.log("chat init"),i.EventBus.$on("message.send",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";console.log("message",e,"envoyé depuis le client de taille "+t),i.socket.emit("new message",e,t)}),i.EventBus.$on("typing",function(e){i.socket.emit("typing",e)}),i.EventBus.$on("stop typing",function(e){i.socket.emit("stop typing",e)}),i.socket.on("typing",function(e){a.a.setSomeoneWriting(!0)}),i.socket.on("stop typing",function(e){a.a.setSomeoneWriting(!1)}),i.socket.on("new message",function(t){i.EventBus.$emit("message.received",t),a.a.pushMessage(t),e.$nextTick(function(){e.$refs.chat.scrollTop=e.$refs.chat.scrollHeight})}),console.log()},beforeDestroy:function(){console.log("detruit"),i.socket.off("new message"),i.EventBus.$off("message.send")}}},Ajl1:function(e,t,n){"use strict";var s=n("Y0Rz"),a=n("gRp0"),i=(n("NHnr"),n("LjF2"),n("jpuG")),o=n("piav"),r=n("ppER");t.a={components:{BlobBanner:r.a,Blob:o.a,ThemeSwitcher:i.a},name:"login",data:function(){return{state:s.a.state,username:""}},methods:{connectUser:function(){if(""!==this.username){if(this.userIsConnected(this.username))return void alert(this.username+" est déjà utilisé ! ");var e=new a.a(this.username);s.a.connectUser(e)}},userIsConnected:function(e){return s.a.state.users.filter(function(t){return t.username.toLowerCase()===e.toLowerCase()}).length>0}},created:function(){this.state.user&&this.$router.push({name:"home"})}}},CFDt:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.state.wizzing?n("wizz"):e._e(),e._v(" "),n("router-view")],1)},a=[],i={render:s,staticRenderFns:a};t.a=i},F8fR:function(e,t,n){"use strict";var s=(n("LjF2"),n("jpuG")),a=n("Y0Rz");t.a={components:{ThemeSwitcher:s.a},name:"chatMenu",methods:{disconnectUser:function(){a.a.disconnectUser()}}}},GBND:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"chat-message",class:[e.message.size,{"bot-message":e.message.isBot,"current-user":e.message.author.id===e.appState.user.id}]},[e.message.isBot?e._e():n("blob",{staticClass:"blob-chat",attrs:{size:e.size,color:e.message.author.color,timestamp:e.message.createdAt}}),e._v(" "),n("div",{staticClass:"chat-message-content"},[e.message.isBot?e._e():n("span",{staticClass:"author",class:"color-"+e.message.author.color},[e._v(e._s(e.message.author.username)+" "),n("span",{staticClass:"timestamp"},[e._v(e._s(new Date(e.message.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))])]),e._v(" "),n("p",{staticClass:"body"},[e._v(e._s(e.message.body))])])],1)},a=[],i={render:s,staticRenderFns:a};t.a=i},GYTG:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"display: none;"})},a=[],i={render:s,staticRenderFns:a};t.a=i},HvaG:function(e,t){},I2Tb:function(e,t,n){"use strict";function s(e){n("jWkQ")}var a=n("PouT"),i=n("1/3n"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},IUmU:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"theme-switcher"},[n("toggle",{attrs:{initialValue:e.getThemeSwitchValue},on:{toggled:e.onToggle}})],1)},a=[],i={render:s,staticRenderFns:a};t.a=i},K1oC:function(e,t,n){"use strict";var s=n("A5qe"),a=(n.n(s),n("piav")),i=n("8k4B"),o=n.n(i);t.a={components:{Blob:a.a},name:"blobBanner",data:function(){return{}},computed:{blobs:function(){for(var e=[],t=0;t<this.blobsCount;t++)e.push(t);return e}},methods:{randomColor:function(){var e=["red","rose","light_green","violet","orange","pale_red","cyan","dark_green","pale_green","pale_yellow","yellow","blue"];return e[Math.floor(Math.random()*e.length)]},size:function(){return o()(.5,.7)},style:function(){var e={position:"relative"};return o()(0,100)<=50?e.left=o()(5,80)+"px":e.right=o()(5,80)+"px",e}},props:{blobsCount:{type:Number,default:20}}}},KKPG:function(e,t,n){e.exports=n.p+"static/media/wizz.4459233.mp3"},LjF2:function(e,t,n){"use strict";function s(e){n("Omvc")}var a=n("ZS3j"),i=n("9p4J"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},LuBD:function(e,t,n){e.exports=n.p+"static/media/ah.6d62726.mp3"},M93x:function(e,t,n){"use strict";function s(e){n("Y6uH")}var a=n("xJD8"),i=n("CFDt"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},MXBW:function(e,t,n){"use strict";function s(e){n("l69d")}var a=n("F8fR"),i=n("Xj1P"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},MitS:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"socket",function(){return c}),n.d(t,"EventBus",function(){return u});var s=n("7+uW"),a=n("M93x"),i=n("6txZ"),o=(n.n(i),n("YaEn")),r=n("oPmM"),c=(n.n(r),io.connect("https://bddi-chat2017.herokuapp.com/")),u=new s.a;s.a.config.productionTip=!1,new s.a({el:"#app",router:o.a,template:"<App/>",components:{App:a.a}})},"NM+e":function(e,t,n){"use strict";var s=n("Y0Rz");n("NHnr");t.a={name:"usersList",components:{},data:function(){return{appStore:s.a}},props:{users:{type:Array,required:!0}}}},Omvc:function(e,t){},Pduc:function(e,t,n){"use strict";n("NHnr");t.a={name:"blob",props:{color:{type:String,default:"red"},moving:{type:Boolean,default:!1},index:{type:Number,default:null},timestamp:{type:Number,default:null},size:{type:Number,default:1}},mounted:function(){console.log(this.color)},computed:{svgClass:function(){return"color-"+this.color},style:function(){return{transform:"scale3d("+this.size+","+this.size+","+this.size+")"}}}}},PouT:function(e,t,n){"use strict";var s=n("Y0Rz"),a=(n("NHnr"),n("tcLX")),i=n("T5Y6"),o=n("yVnd"),r=n("MXBW");t.a={components:{ChatMenu:r.a,Chat:i.a,UsersList:a.a},name:"homepage",data:function(){return{state:s.a.state,chatState:o.a.state}},created:function(){this.state.user||this.$router.push("login")}}},T5Y6:function(e,t,n){"use strict";function s(e){n("iQhe")}var a=n("9z39"),i=n("WD+O"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},UHmy:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{on:{submit:function(t){t.preventDefault(),e.send(t)}}},[n("div",{staticClass:"form-group"},[n("blob",{staticClass:"blob-user",attrs:{size:.5,color:e.appState.user.color}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"inputMessage",staticClass:"chat-input",attrs:{type:"text",placeholder:"Votre message..."},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})],1),e._v(" "),n("div",{staticClass:"form-group"},[n("button",{staticClass:"button"},[e._v("Envoyer")]),e._v(" "),n("button",{staticClass:"button",attrs:{disabled:!e.appState.canWizz,type:"button"},on:{click:e.sendWizz}},[e._v("Wizz")]),e._v(" "),n("blob-size-switcher"),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.error?n("span",{staticClass:"error"},[e._v(e._s(e.error))]):e._e()])],1)])])},a=[],i={render:s,staticRenderFns:a};t.a=i},"WD+O":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat"},[n("ul",{ref:"chat",staticClass:"chat-room"},[n("transition-group",{staticStyle:{position:"relative"},attrs:{name:"blur",tag:"div"}},e._l(e.messages,function(e){return n("chat-message",{key:e.createdAt,attrs:{message:e}})}))],1),e._v(" "),e.state.someoneWriting?n("span",{staticClass:"is-writing"},[e._v("Quelqu'un est en train d'écrire...")]):e._e(),e._v(" "),n("chat-form")],1)},a=[],i={render:s,staticRenderFns:a};t.a=i},Wh16:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"users-list"},[n("ul",[e.appStore.state.user?n("li",{class:"current-user user-color-"+e.appStore.state.user.color},[n("span",{staticClass:"circle"},[e._v(" ")]),e._v(e._s(e.appStore.state.user.username)+" (vous)\n    ")]):e._e(),e._v(" "),n("transition-group",{attrs:{name:"blur",mode:"out-in"}},e._l(e.users,function(t){return n("li",{key:t.id,class:"user-color-"+t.color},[n("span",{staticClass:"circle"},[e._v(" ")]),e._v(e._s(t.username)+"\n      ")])}))],1)])},a=[],i={render:s,staticRenderFns:a};t.a=i},Xj1P:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-menu"},[n("button",{staticClass:"button",on:{click:e.disconnectUser}},[e._v("Se déconnecter")]),e._v(" "),n("theme-switcher")],1)},a=[],i={render:s,staticRenderFns:a};t.a=i},XtpM:function(e,t,n){e.exports=n.p+"static/media/johncena.c38521a.mp3"},Y0Rz:function(e,t,n){"use strict";var s=n("mvHQ"),a=n.n(s),i=n("Zrlr"),o=n.n(i),r=n("wxAW"),c=n.n(r),u=n("NHnr"),l=function(){function e(){o()(this,e),this.state={user:null,users:[],canWizz:!0,wizzing:!1,theme:"dark",wizzWaitTime:5e3}}return c()(e,[{key:"setTheme",value:function(e){this.state.theme=e,document.body.setAttribute("class",""),document.body.classList.add("theme-"+this.state.theme)}},{key:"setCanWizz",value:function(e){this.state.canWizz=e}},{key:"toggleTheme",value:function(){this.state.theme="light"===this.state.theme?"dark":"light",localStorage.setItem("theme",this.state.theme),document.body.setAttribute("class",""),document.body.classList.add("theme-"+this.state.theme)}},{key:"setWizzing",value:function(e){this.state.wizzing=e}},{key:"connectUser",value:function(e){this.state.user=e,localStorage.setItem("user",a()(e)),u.EventBus.$emit("user-connected",e)}},{key:"disconnectUser",value:function(){var e=this.state.user;this.state.user=null,localStorage.removeItem("user"),u.EventBus.$emit("user-disconnected",e)}},{key:"addUser",value:function(e){this.state.users.push(e)}},{key:"setUsers",value:function(e){this.state.users=e}},{key:"setLoggedUser",value:function(e){this.state.user=e}},{key:"removeUser",value:function(e){console.log(this.state.users.filter(function(t){return t.id!==e})),this.state.users=this.state.users.filter(function(t){return t.id!==e})}},{key:"getUserById",value:function(e){return this.state.users.filter(function(t){return t.id===e})[0]}}]),e}();t.a=new l},Y6uH:function(e,t){},YaEn:function(e,t,n){"use strict";var s=n("7+uW"),a=n("/ocq"),i=n("I2Tb"),o=n("3jL2");s.a.use(a.a),t.a=new a.a({mode:"history",routes:[{path:"/",name:"home",component:i.a},{path:"/login",name:"login",component:o.a}]})},ZS3j:function(e,t,n){"use strict";n("Y0Rz"),n("NHnr");t.a={name:"toggle",data:function(){return{checked:null===this.initialValue||this.initialValue}},props:{initialValue:{initialValue:Boolean,default:null}},created:function(){},watch:{checked:function(e){this.$emit("toggled",e)}}}},aPLq:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page page-login"},[n("blob-banner",{attrs:{"blobs-count":30}}),e._v(" "),n("form",{on:{submit:function(t){t.preventDefault(),e.connectUser(t)}}},[n("label",[e._v("Personnalise ton interface :")]),e._v(" "),n("theme-switcher"),e._v(" "),n("label",{attrs:{for:"username"}},[e._v("Nom d'utilisateur")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"login-input",attrs:{type:"text",id:"username",placeholder:"Votre nom d'utilisateur"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),n("span",{staticClass:"separator"},[e._v(" ")]),e._v(" "),n("button",{staticClass:"button",attrs:{disabled:""===e.username,type:"submit"}},[e._v("Valider")])],1)],1)},a=[],i={render:s,staticRenderFns:a};t.a=i},avOc:function(e,t){},"cI/E":function(e,t,n){"use strict";var s=n("Y0Rz");t.a={name:"wizz",mounted:function(){var e=this,t=document.body;t.classList.add("animated","headShake-"+s.a.state.theme),t.addEventListener("animationend",function(t){return e.onAnimationEnd(t)}),t.addEventListener("webkitAnimationEnd",function(t){return e.onAnimationEnd(t)}),t.addEventListener("mozAnimationEnd",function(t){return e.onAnimationEnd(t)}),t.addEventListener("MSAnimationEnd",function(t){return e.onAnimationEnd(t)}),t.addEventListener("oanimationend",function(t){return e.onAnimationEnd(t)})},methods:{onAnimationEnd:function(e){e.target.classList.remove("animated","headShake","headShake-light","headShake-dark"),s.a.setWizzing(!1)}}}},"dpy/":function(e,t,n){"use strict";var s=(n("n5HP"),n("Y0Rz")),a=n("yVnd"),i=n("XtpM"),o=n.n(i),r=n("LuBD"),c=n.n(r),u=n("NHnr"),l=n("y1vT"),d=n.n(l),m=n("R3sX"),h=n.n(m),f=n("piav"),v=n("4AMx");t.a={components:{BlobSizeSwitcher:v.a,Blob:f.a},name:"ChatForm",data:function(){return{error:null,appState:s.a.state,message:"",color:"red",chatState:a.a.state}},created:function(){var e=this;u.socket.on("command issued",function(t){"PLAY_AUDIO"===t.command&&("johncena"===t.payload?new Audio(o.a).play():"ah"===t.payload&&new Audio(c.a).play()),e.message=""})},mounted:function(){console.log("user",this.user),this.$refs.inputMessage.addEventListener("keydown",h()(function(e){e.keyCode>=32&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&u.EventBus.$emit("typing",s.a.state.user)},200)),this.$refs.inputMessage.addEventListener("keyup",d()(function(e){e.keyCode>=32&&!e.metaKey&&!e.altKey&&u.EventBus.$emit("stop typing",s.a.state.user)},200))},methods:{send:function(){""===this.message?(this.error||this.removeError(),this.error="Le message ne peut être vide"):this.message.startsWith("/")?u.socket.emit("command",this.message):(a.a.addMessage(this.message,!1,this.chatState.messageSize),this.message="")},removeError:function(){setTimeout(function(){console.log("message"),this.error=null}.bind(this),3e3)},sendWizz:function(){u.EventBus.$emit("send.wizz")}}}},"e/pS":function(e,t){},f0RE:function(e,t,n){"use strict";function s(e){n("iQnH")}var a=n("nmDi"),i=n("GBND"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},gRp0:function(e,t,n){"use strict";var s=n("Zrlr"),a=n.n(s),i=n("wxAW"),o=n.n(i),r=n("AJcs"),c=function(){function e(t){a()(this,e),this.username=t,this.avatarUrl="https://www.gravatar.com/avatar/"+r(this.username)}return o()(e,null,[{key:"fromJSON",value:function(t){var n=JSON.parse(t);return n.hasOwnProperty("username")?new e(n.username):null}}]),e}();t.a=c},hlNg:function(e,t,n){"use strict";var s=n("LjF2"),a=n("Y0Rz");t.a={components:{Toggle:s.a},name:"themeSwitcher",methods:{onToggle:function(){a.a.toggleTheme()}},computed:{getThemeSwitchValue:function(){return"dark"===a.a.state.theme}}}},iQhe:function(e,t){},iQnH:function(e,t){},jWkQ:function(e,t){},jmJF:function(e,t){},jpuG:function(e,t,n){"use strict";function s(e){n("m4Cg")}var a=n("hlNg"),i=n("IUmU"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},kRQn:function(e,t,n){e.exports=n.p+"static/media/sound_received.13eabcb.mp3"},l69d:function(e,t){},lL7h:function(e,t){},m3Fq:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"blob",style:e.style},[n("svg",{class:e.svgClass,attrs:{id:"organic-blob",width:"300",height:"300",xmlns:"http://www.w3.org/2000/svg",filter:"url(#goo)"}},[n("defs",[n("filter",{attrs:{id:"goo"}},[n("feGaussianBlur",{attrs:{in:"SourceGraphic",stdDeviation:"10",result:"blur"}}),e._v(" "),n("feColorMatrix",{attrs:{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}}),e._v(" "),n("feComposite",{attrs:{in:"SourceGraphic",in2:"goo",operator:"atop"}})],1)]),e._v(" "),n("circle",{attrs:{id:"Circle1"}}),e._v(" "),n("circle",{attrs:{id:"Circle2"}}),e._v(" "),n("circle",{attrs:{id:"Circle3"}}),e._v(" "),n("circle",{attrs:{id:"Circle4"}})])])},a=[],i={render:s,staticRenderFns:a};t.a=i},m4Cg:function(e,t){},n5HP:function(e,t,n){"use strict";var s=n("Zrlr"),a=n.n(s),i=function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a()(this,e),this.body=t,this.createdAt=Date.now(),this.author=n,this.isBot=s};t.a=i},nmDi:function(e,t,n){"use strict";var s=n("piav"),a=(n("yVnd"),n("Y0Rz"));t.a={components:{Blob:s.a},name:"chatMessage",props:{message:{type:Object,required:!0}},data:function(){return{appState:a.a.state}},computed:{size:function(){switch(this.message.size){case"small":return.2;case"medium":return.5;case"large":return 1}}}}},oPmM:function(e,t){},piav:function(e,t,n){"use strict";function s(e){n("avOc")}var a=n("Pduc"),i=n("m3Fq"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},ppER:function(e,t,n){"use strict";function s(e){n("jmJF")}var a=n("K1oC"),i=n("8EOI"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},qBEU:function(e,t,n){"use strict";var s=n("yVnd");t.a={name:"blobSizeSwitcher",data:function(){return{chatState:s.a.state}},methods:{setFontSize:function(e){s.a.setFontSize(e)}}}},tcLX:function(e,t,n){"use strict";function s(e){n("HvaG")}var a=n("NM+e"),i=n("Wh16"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports},xJD8:function(e,t,n){"use strict";var s=n("Y0Rz"),a=n("yVnd"),i=n("NHnr"),o=n("gRp0"),r=n("9OvZ"),c=n("KKPG"),u=n.n(c),l=n("kRQn"),d=n.n(l);n("n5HP");t.a={components:{Wizz:r.a},name:"app",data:function(){return{state:s.a.state}},created:function(){var e=this;localStorage.getItem("theme")||localStorage.setItem("theme","dark");var t=localStorage.getItem("theme");if(console.log(t),s.a.setTheme(t),i.EventBus.$on("user-connected",this.onUserConnected),i.EventBus.$on("user-disconnected",this.onUserDisconnected),i.EventBus.$on("send.wizz",this.onWizzSend),i.EventBus.$on("message.received",this.onMessageReceived),i.socket.on("connect",function(){console.log("Connecté au serveur WebSocket")}),i.socket.on("wizz",this.onWizzReceived),i.socket.on("user connected",function(e){console.log("connexion de ",e),s.a.setLoggedUser(e)}),i.socket.on("getUsers",function(e){console.log("get users",e),s.a.setUsers(e)}),i.socket.on("user joined",function(t){console.log("connexion d'un nouvel utilisateur",t.new);var n=t.clients.filter(function(t){return null===e.state.user||t.id!==s.a.state.user.id});console.log("liste des utilisateurs",n),s.a.setUsers(n)}),i.socket.on("user disconnected",function(t){console.log("déco de ",t,t.id),a.a.sendMessageWithBot(t.username+" s'est déconnecté"),e.$nextTick(function(){var e=document.querySelector(".chat-room");e&&(e.scrollTop=document.querySelector(".chat-room").scrollHeight)}),s.a.removeUser(t.id)}),localStorage.getItem("user")){var n=o.a.fromJSON(localStorage.getItem("user"));n&&s.a.connectUser(n)}},methods:{disconnectUser:function(){s.a.disconnectUser()},randomColor:function(){var e=["red","rose","light_green","violet","orange","pale_red","cyan","dark_green","pale_green","pale_yellow","yellow","blue"];return e[Math.floor(Math.random()*e.length)]},onMessageReceived:function(e){console.log(e,"envoyé de ",e.author),a.a.isMessageFromCurrentUser(e)||new Audio(d.a).play()},onUserDisconnected:function(e){console.log("déco client"),i.socket.emit("user disconnected",e),this.$router.push({name:"login"})},onUserConnected:function(e){console.log("co client"),i.socket.emit("user connected",e),i.socket.emit("user joined",e),this.$router.push({name:"home"})},onWizzSend:function(){s.a.setCanWizz(!1),s.a.setWizzing(!0),setTimeout(function(){s.a.setCanWizz(!0),s.a.setWizzing(!1)}.bind(this),1e3),i.socket.emit("wizz")},onWizzReceived:function(e){this.state.user&&(a.a.sendMessageWithBot(e.username+" a envoyé un wizz"),s.a.setWizzing(!0),new Audio(u.a).play(),this.$nextTick(function(){var e=document.querySelector(".chat-room");e&&(e.scrollTop=document.querySelector(".chat-room").scrollHeight)}),console.log("wizz reçu"))}}}},yVnd:function(e,t,n){"use strict";var s=n("Zrlr"),a=n.n(s),i=n("wxAW"),o=n.n(i),r=n("NHnr"),c=n("n5HP"),u=n("gRp0"),l=n("Y0Rz"),d=function(){function e(){a()(this,e),this.state={messages:[],someoneWriting:!1,messageSize:"medium"}}return o()(e,[{key:"setFontSize",value:function(e){this.state.messageSize=e,r.EventBus.$emit("fontsize.changed",e)}},{key:"setSomeoneWriting",value:function(e){this.state.someoneWriting=e}},{key:"addMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium";console.log(e,n),t||r.EventBus.$emit("message.send",e,n)}},{key:"sendMessageWithBot",value:function(e){var t=new u.a("Pipelette");this.pushMessage(new c.a(e,t,!0),!0)}},{key:"pushMessage",value:function(e){this.state.messages.push(e)}},{key:"isMessageFromCurrentUser",value:function(e){return l.a.state.user.id===e.author.id}}]),e}();t.a=new d},zhGu:function(e,t,n){"use strict";function s(e){n("e/pS")}var a=n("dpy/"),i=n("UHmy"),o=n("VU/8"),r=s,c=o(a.a,i.a,r,null,null);t.a=c.exports}},["NHnr"]);
//# sourceMappingURL=app.d808e1474488f06894a3.js.map